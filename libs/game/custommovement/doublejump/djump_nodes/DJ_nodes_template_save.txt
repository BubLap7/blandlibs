{"map":{"name":"DJ_template","ambient":"#97a0a8","light":"#f2f8fc","sky":"#dce8ed","fog":"#8d9aa0","fogD":2000,"colors":["#B5B5B5","#FF8787","#FFFFFF"],"xyz":[100,10,100,7,11,7,101,8,101,102,12,102,10,78,89,10,79,96,10,10,10,11,1,11,102,89,102,81,78,89,10,4,10,11,2,11,12,6,12,5000,10,5000,16,4,6,16,2,5,17,32,6,1,1,8,18,39,9,5,5,5],"objects":[{"p":[0,-10,0],"meshUUID":"07b4cf08-4fdd-48df-80f0-48f7ea42aa5d","objUUID":"53f4ea73-ecc4-496f-8fa6-a574c74ae47f","t":11,"tv":4,"ci":0,"si":0},{"p":[0,0,0],"meshUUID":"f237dbc6-aa0b-4263-baf9-cc588939d6fe","objUUID":"a6822fe3-b176-4387-9636-b94f7055cd70","i":5,"tm":0,"si":1},{"p":[0,-9,0],"meshUUID":"0bdc0696-9ddf-40a5-8c61-fc95d0e83358","objUUID":"6ef8da33-99e8-4452-9a1c-846c84fdc5fc","t":5,"si":2},{"p":[0,-11,0],"meshUUID":"278109a2-2abb-4281-a320-9d125b2f4cc5","objUUID":"96478217-e43e-4029-b259-8687307457b6","i":35,"si":3},{"p":[284,-10,0],"meshUUID":"bd5f80a1-94f1-4939-9867-2e54a02c0b3d","objUUID":"45ae3c36-fb71-4e5f-8b14-bd2c43b00f52","t":11,"tv":4,"ci":0,"si":0},{"p":[284,-9,0],"meshUUID":"0b3383a0-dcc4-498b-b00f-eab3ee038ccf","objUUID":"fd009b31-0916-4dfd-9ee3-a363b70f0a45","t":5,"si":2},{"p":[284,-1,0],"meshUUID":"31305163-e851-49eb-81eb-184989f621e7","objUUID":"139b6b3a-91b0-403c-827e-4e078f36ef7c","i":25,"tm":0,"si":4},{"p":[285,-2,0],"meshUUID":"d563f12a-60a3-4c84-968c-4ee5616a4250","objUUID":"647a242c-82e3-4d8a-afec-6ede93be751e","i":10,"si":5},{"p":[284,0,-37],"meshUUID":"f5126635-33e2-4583-be8b-d52988f0b0ee","objUUID":"988293bf-79ce-4762-8571-70e366abffac","i":12,"si":6},{"p":[284,0,-37],"meshUUID":"ae4c40a0-49f8-4f25-a32c-69b426f0f282","objUUID":"2fd217c2-9fbf-4e6a-b5f7-1432799278a1","o":0.6,"t":5,"ci":1,"si":7},{"p":[284,-11,0],"meshUUID":"eb6f84a2-bab7-45d2-bb8f-488ee4ae972e","objUUID":"88c5ba3e-4d8d-4db8-8295-7af9d857d2ad","i":35,"si":8},{"p":[1,-1,0],"meshUUID":"400bdaec-fcae-4c3c-ad3a-d886eafd1c4f","objUUID":"99d76d62-35e1-411d-b921-afe2a11a0dae","i":25,"tm":0,"si":9},{"p":[128,6,0],"meshUUID":"b39a8c9c-bab5-447f-87ed-0440b37b1ae5","objUUID":"50e30c38-1351-4805-8a91-5df886f1f13e","t":11,"tv":4,"ci":0,"si":10},{"p":[128,7,0],"meshUUID":"619a6987-1bdd-4214-a832-44c75e599f7c","objUUID":"7131c5f9-01f3-4ce6-ad55-f5a8a0aca51e","t":5,"si":11},{"p":[128,5,0],"meshUUID":"ca0e65de-a3ec-4e17-bc00-25f7464ed6c3","objUUID":"05b8de75-775e-47c9-bf6f-4e23e3985598","i":35,"si":12},{"p":[21,-20,129],"meshUUID":"e910a5c4-4fa3-4256-bc0e-30ac4c417e5c","objUUID":"38e2113c-1799-441d-881d-01855a294f35","i":27,"tm":0,"m":1,"tcp":1,"si":13},{"p":[593,-10,0],"meshUUID":"98abd40a-bade-468c-97f0-418dc84eb465","objUUID":"f461e39d-8c68-4fe7-8e9c-101d4100c8db","t":11,"tv":4,"ci":0,"si":0},{"p":[593,-9,0],"meshUUID":"8c9811f1-b71e-4d3a-9b42-08d1e8f2d49f","objUUID":"f953a0f0-f6a0-4840-8fd5-d637ee533780","t":5,"si":2},{"p":[593,-1,0],"meshUUID":"d4683fb2-1b03-42c0-850c-c971d9d5c35d","objUUID":"b31c9efe-fee8-4a41-b673-682432d5f8fc","i":25,"tm":0,"si":4},{"p":[594,-2,0],"meshUUID":"d88a62bb-a698-4dff-8712-d867f84a1de4","objUUID":"85968cbd-91de-4bba-8e27-45c0db029217","i":10,"si":5},{"p":[593,0,-37],"meshUUID":"59829941-85cd-4dcd-89d9-3768f381815c","objUUID":"89319da6-9a68-4a32-84b6-9122bd5cf64f","i":12,"si":6},{"p":[593,0,-37],"meshUUID":"63fcdb75-c35f-4395-be23-ca3fb6a659f1","objUUID":"689345dd-07e8-49b1-95e2-b546ea63bc02","o":0.6,"t":5,"ci":1,"si":7},{"p":[593,-11,0],"meshUUID":"3fdff732-98b6-433a-9d5c-2f6617911ed0","objUUID":"f6eebebe-08cd-4050-8dea-b3e9facd8344","i":35,"si":8},{"p":[418,6,1],"meshUUID":"7e987989-b376-4ff7-bfb9-587e11a28c81","objUUID":"870539d7-2547-49ce-9609-a192f06a7e24","t":11,"tv":4,"ci":0,"si":14},{"p":[418,10,1],"meshUUID":"c255e671-e6ec-4d3d-b552-95368a9bddce","objUUID":"2ed6659a-cb81-4139-993e-dfaf5377593f","l":1,"t":5,"ei":2,"si":15},{"p":[418,11,1],"meshUUID":"bc39152a-c7df-4b56-a40d-e2ae52c92092","objUUID":"bfac4a6e-44cd-4fb7-a4c7-026b8646989f","t":11,"tv":4,"ci":0,"si":16},{"p":[418,12,1],"meshUUID":"269f0e50-5a75-48d5-83b5-1c44bc83964f","objUUID":"11935ea4-93b6-4198-aed5-f1ebb65a7328","l":1,"o":0.8,"t":5,"ei":2,"si":17},{"p":[418,5,1],"meshUUID":"90042b8d-e4c6-41c6-a6a4-e2188c306f98","objUUID":"ac1a6358-0582-4b46-83ed-37fc06e35639","i":35,"si":18},{"p":[76,15,0],"meshUUID":"1835f2e2-3d75-4bf0-9ae8-3c7f470c6fab","objUUID":"75cd1f84-bd5b-4cd1-ac6f-fee37e89888d","i":64,"l":1,"si":19},{"p":[167,24,0],"meshUUID":"37e3fb29-754a-407d-975f-dad85a266988","objUUID":"693ce41c-c3e1-4d26-8def-a8dd28d3c96f","i":64,"l":1,"nid":1,"si":19},{"p":[372,15,-20],"meshUUID":"abf4a925-8fbc-478f-bba5-58170c86a49e","objUUID":"dc424910-7f40-4431-a6f3-b992812ccce2","i":64,"l":1,"nid":3,"si":19},{"p":[372,15,20],"meshUUID":"86a8db5f-4414-4d45-8da3-a39df1f2dba1","objUUID":"afeafb87-cdc2-4967-89fb-ac24f782ff38","i":64,"l":1,"nid":4,"si":19},{"p":[464,21,0],"meshUUID":"1b5567be-f52a-4c10-a70a-87daef8c62b2","objUUID":"b4abe87a-718b-41f1-97ca-d3e784475cd4","i":64,"l":1,"nid":5,"si":19}],"config":{"modes":[4],"classes":[9],"settings":{"maxPlayers":20,"gameTime":0}},"scripts":{"client":"IyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgRmlsZTogbGlic1xkb3VibGVqdW1wXGRqcmVnaXN0ZXJzeW5jXHJfZGp1bXBjbGllbnQua3JuawojIEF1dGhvcjogRFFfU3dhdCArIGJsYW5kcmljZQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIEZpbGU6IGxpYnNcZG91YmxlanVtcFxkanJlZ2lzdGVyc3luY1xyX2RqdW1wY2xpZW50LmtybmsKIyBBdXRob3I6IERRX1N3YXQgKyBibGFuZHJpY2UKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBTRVRUSU5HUzoKb2JqIERKY2ZnX25vZGVzX2MgPSAKewogICAgTUFYX0pVTVBDT1VOVDogMSwgIyAyIGlzICJkb3VibGVqdW1wIiwgMyBpcyAidHJpcGxlanVtcCIKICAgIFdBTExKVU1QX1JFRlJFU0hTOiB0cnVlLAogICAgRU5BQkxFX0NST1VDSEpVTVA6IHRydWUsICMgbG93ZXIgaGVpZ2h0IGZvciBjcm91Y2gganVtcCwgYWxzbyBhcHBsaWVzICJtb29uanVtcCIgbWlkLWFpciBwaHlzaWNzCiAgICBBQ1FVSVJFSlVNUFNPVU5EOiA0OTY4MywgIyBzb3VuZCBJRC4gc2V0IHRvIDAgaWYgbm8gc291bmQgZGVzaXJlZAogICAgREpVTVBTT1VORDogMzI1NzYsICMgc291bmQgSUQuIHNldCB0byAwIGlmIG5vIHNvdW5kIGRlc2lyZWQKICAgICMgSEFSRC1DT0RFRCBOVU1CRVJTIC0gRE9OJ1QgVE9VQ0gKICAgIE1TX0RVUkFUSU9OX1VOQ1JPVUNIOiAxNjYsCiAgICBWRUxfSlVNUDogMC4wNzkzLCAjIDYwRlBTLCBtYXggY2xlYXJhbmNlIDE3LjkgdW5pdHMKICAgIFZFTF9DUk9VQ0hKVU1QOiAwLjA1OTUsICMgNjBGUFMsIG1heCBjbGVhcmFuY2UgMTAuMiB1bml0cwp9OwoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIEhlYWRlcjogXGxpYnNcY29sbGlzaW9uc1xBQUJCLmtybmsKIyBBdXRob3I6IEtHMDcgKG1vZGlmaWVkIGJ5IGJsYW5kcmljZSkKIyBEZXNjcmlwdGlvbjogQUFCQiAoYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveC1ib3gpIGNvbGxpc2lvbiArIHJlc29sdXRpb24KIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpudW0gQUFCQl93ID0gNC45OyMgcGxheWVyIHdpZHRoCm51bSBBQUJCX2MgPSA4OyMgY3JvdWNoaW5nIGhlaWdodApudW0gQUFCQl9IID0gMTE7IyBzdGFuZGluZyBoZWlnaHQKCiNjb2xzaWRlCm51bSBBQUJCX1hORUcgPSAweDE7Cm51bSBBQUJCX1hQT1MgPSAweDI7Cm51bSBBQUJCX1lORUcgPSAweDQ7ICNoaXQgImdyb3VuZCIKbnVtIEFBQkJfWVBPUyA9IDB4ODsgCm51bSBBQUJCX1pORUcgPSAweDEwOwpudW0gQUFCQl9aUE9TID0gMHgyMDsKCiMgY29sbGlkZSB0eXBlcwpudW0gQUFCQl9DT0xfTk9ORSA9IDB4MDsgIyBubyBjb2xsaWRlCm51bSBBQUJCX0NPTF9XT1JMRCA9IDB4MDE7ICMgb2JqZWN0IGNhbiBjb2xsaWRlIHdpdGggd29ybGQKbnVtIEFBQkJfQ09MX09CSlMgPSAweDAyOyAjIG9iamVjdCBjYW4gY29sbGlkZSB3aXRoIG90aGVyIG9iamVjdHMKbnVtIEFBQkJfQ09MX1BMUlMgPSAweDA0OyAjIG9iamVjdCBjYW4gQUFCQl9kZXRlY3QgY29sbGlkZSB3aXRoIHBsYXllcgpudW0gQUFCQl9DT0xfT0JKMlBMUlMgPSAweDA4OyAjICMgcGxheWVyIGNhbiBjb2xsaWRlIHdpdGggb2JqZWN0ICh1c3VhbGx5IHJlc29sdmVzIGNvbGxpZGUuIGN1cnJlbnRseSBkZWZhdWx0IHRoaXMgZG9lcyBub3QgbWF0dGVyKQoKIyBnZW9tZXRyeSB0eXBlcwpudW0gQUFCQl9HRU9fQ1VCRSA9IDA7Cm51bSBBQUJCX0dFT19TUEhFUkUgPSAxOwpudW0gQUFCQl9HRU9fQ1lMSU5ERVIgPSAyOwpudW0gQUFCQl9HRU9fUk9UQ1VCRSA9IDM7Cm51bSBBQUJCX0dFT19DT01QTEVYQ09MID0gNDsKCiMgQUFCQl9yZXNvbHZlIHR5cGVzCm51bSBBQUJCX1JFU19OT05FID0gMDsgIyBzdG9wIG1vdmVtZW50Cm51bSBBQUJCX1JFU19TVE9QID0gMTsgIyBzdG9wIG1vdmVtZW50Cgpib29sIGFjdGlvbiBBQUJCX2lzQ29sbGlzaW9uKG9iaiBjdWJlMSwgb2JqIGN1YmUyKQp7CiAgICAjIEFkYXB0ZWQgZnJvbSBodHRwczovL3R1dG9yaWFsZWRnZS5uZXQvZ2FtZWRldi9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24tdHV0b3JpYWwvCiAgICBudW0gZHggPSBNYXRoLmFicygobnVtKWN1YmUxLnBvc2l0aW9uLnggLSAobnVtKWN1YmUyLnBvc2l0aW9uLngpIC0gKChudW0pY3ViZTEuc2NhbGUueC8yICsgKG51bSljdWJlMi5zY2FsZS54LzIpOwogICAgbnVtIGR5ID0gTWF0aC5hYnMoKG51bSljdWJlMS5wb3NpdGlvbi55ICsobnVtKWN1YmUxLnNjYWxlLnkvMiAtIChudW0pY3ViZTIucG9zaXRpb24ueSAtIChudW0pY3ViZTIuc2NhbGUueS8yKSAtICgobnVtKWN1YmUxLnNjYWxlLnkvMiArIChudW0pY3ViZTIuc2NhbGUueS8yKTsKICAgIG51bSBkeiA9IChNYXRoLmFicygobnVtKWN1YmUxLnBvc2l0aW9uLnogLSAobnVtKWN1YmUyLnBvc2l0aW9uLnopIC0gKChudW0pY3ViZTEuc2NhbGUuei8yICsgKG51bSljdWJlMi5zY2FsZS56LzIpKTsKICAgIGlmICgoZHggPCAwKSAmJiAoZHkgPCAwKSAmJiAoZHogPCAwKSkKICAgIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICAgICAgICAKfQoKb2JqW10gYWN0aW9uIEFBQkJfZGV0ZWN0Q29sbGlzaW9ucyhvYmogY3ViZTEsIG9ialtdIGN1YmVzKQp7CiAgICBvYmpbXSBjb2xsaXNpb25zID0gb2JqW107CiAgICBmb3IgKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGN1YmVzOyBpKyspCiAgICB7CiAgICAgICAgaWYgKEFBQkJfaXNDb2xsaXNpb24oY3ViZTEsY3ViZXNbaV0pKQogICAgICAgIHsKICAgICAgICAgICAgYWRkVG8gY29sbGlzaW9ucyBjdWJlc1tpXTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gY29sbGlzaW9uczsKfQoKCgpvYmogYWN0aW9uIEFBQkJfQ2FsY3VsYXRlQWFiYkRpc3RhbmNlVG8ob2JqIGN1YmUxLCBvYmogY3ViZTIpCnsKICAgIG51bSBkeCA9IE1hdGguYWJzKChudW0pY3ViZTEucG9zaXRpb24ueCAtIChudW0pY3ViZTIucG9zaXRpb24ueCkgLSAoKG51bSljdWJlMS5zY2FsZS54LzIgKyAobnVtKWN1YmUyLnNjYWxlLngvMik7CiAgICBudW0gZHkgPSBNYXRoLmFicygobnVtKWN1YmUxLnBvc2l0aW9uLnkgKyhudW0pY3ViZTEuc2NhbGUueS8yIC0gKG51bSljdWJlMi5wb3NpdGlvbi55IC0gKG51bSljdWJlMi5zY2FsZS55LzIpIC0gKChudW0pY3ViZTEuc2NhbGUueS8yICsgKG51bSljdWJlMi5zY2FsZS55LzIpOwogICAgbnVtIGR6ID0gKE1hdGguYWJzKChudW0pY3ViZTEucG9zaXRpb24ueiAtIChudW0pY3ViZTIucG9zaXRpb24ueikgLSAoKG51bSljdWJlMS5zY2FsZS56LzIgKyAobnVtKWN1YmUyLnNjYWxlLnovMikpOwoKICAgIHJldHVybiB7eDpkeCx5OmR5LHo6ZHp9Owp9CgpudW0gQUFCQl9zdCA9IDM7I3N0YWlyIGhlaWdodAoKbnVtIGFjdGlvbiBBQUJCX3NpZGUobnVtIEMsIG51bSBTLCBudW0gaW5wdXQpewoJaWYoaW5wdXQgPD0gQy1TKXtyZXR1cm4gLTE7fQoJaWYoaW5wdXQgPj0gQytTKXtyZXR1cm4gMTt9CglyZXR1cm4gMDsKfQoKb2JqW10gYWN0aW9uIEFBQkJfcmVzb2x2ZShvYmogY3ViZTEsb2JqW10gY3ViZXMpIHsKICAgIG9ialtdIGNvbGxpc2lvbnMgPSBvYmpbXTsKICAgIG51bSB0b3RhbGNvbHNpZGUgPSAwOwoJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGN1YmVzOyBpKyspewogICAgICAgIG51bSBjb2xzaWRlID0gMDsKICAgICAgICBvYmogY29sb2JqID0ge307CgogICAgICAgIG51bSBweCA9IChudW0pIGN1YmUxLnBvc2l0aW9uLng7CiAgICAgICAgbnVtIHB5ID0gKG51bSkgY3ViZTEucG9zaXRpb24ueTsKICAgICAgICBudW0gcHogPSAobnVtKSBjdWJlMS5wb3NpdGlvbi56OwogICAgICAgIG51bSB2eCA9IChudW0pIGN1YmUxLnZlbG9jaXR5Lng7CiAgICAgICAgbnVtIHZ5ID0gKG51bSkgY3ViZTEudmVsb2NpdHkueTsKICAgICAgICBudW0gdnogPSAobnVtKSBjdWJlMS52ZWxvY2l0eS56OwogICAgICAgIAogICAgICAgIG51bSBjc3ggPSAobnVtKSBjdWJlMS5zY2FsZS54LzI7CiAgICAgICAgbnVtIGNzeSA9IChudW0pIGN1YmUxLnNjYWxlLnkvMjsKICAgICAgICBudW0gY3N6ID0gKG51bSkgY3ViZTEuc2NhbGUuei8yOwoKICAgICAgICBvYmogdGN1YmUgPSBjdWJlc1tpXTsKICAgICAgICBpZiAobm90RW1wdHkgKG9iail0Y3ViZS5jb2xsaWRlKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCEoKG51bSl0Y3ViZS5jb2xsaWRlLnR5cGUgJiBBQUJCX0NPTF9PQkoyUExSUykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAjIHNraXAgdGhpcyBvYmplY3QgaWYgaXQgaXMgbm90IGNvbGxpZGFibGUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBudW0gY3ggPSAobnVtKSB0Y3ViZS5wb3NpdGlvbi54OwogICAgICAgIG51bSBjeSA9IChudW0pIHRjdWJlLnBvc2l0aW9uLnk7CiAgICAgICAgbnVtIGN6ID0gKG51bSkgdGN1YmUucG9zaXRpb24uejsKICAgICAgICBudW0gc3ggPSAobnVtKSB0Y3ViZS5zY2FsZS54IC8gMjsKICAgICAgICBudW0gc3kgPSAobnVtKSB0Y3ViZS5zY2FsZS55IC8gMjsKICAgICAgICBudW0gc3ogPSAobnVtKSB0Y3ViZS5zY2FsZS56IC8gMjsKICAgICAgICBudW0gb3B4ID0gcHg7CiAgICAgICAgbnVtIG9weSA9IHB5OwogICAgICAgIG51bSBvcHogPSBwejsKICAgICAgICBudW0gb2N4ID0gY3g7CiAgICAgICAgbnVtIG9jeSA9IGN5OwogICAgICAgIG51bSBvY3ogPSBjejsKICAgICAgICAKICAgICAgICBpZiAobm90RW1wdHkgKG9iaikgY3ViZTEub2dwb3MpewogICAgICAgICAgICBvcHggPSAobnVtKWN1YmUxLm9ncG9zLng7CiAgICAgICAgICAgIG9weSA9IChudW0pY3ViZTEub2dwb3MueTsKICAgICAgICAgICAgb3B6ID0gKG51bSljdWJlMS5vZ3Bvcy56OwogICAgICAgIH0gaWYgKG5vdEVtcHR5IChvYmopdGN1YmUub2dwb3MpewogICAgICAgICAgICBvY3ggPSAobnVtKXRjdWJlLm9ncG9zLng7CiAgICAgICAgICAgIG9jeSA9IChudW0pdGN1YmUub2dwb3MueTsKICAgICAgICAgICAgb2N6ID0gKG51bSl0Y3ViZS5vZ3Bvcy56OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAjIC14CiAgICAgICAgaWYocHggPD0gY3ggKyBzeCArIGNzeCAmJiBvcHggPj0gb2N4ICsgc3ggKyBjc3ggJiYgQUFCQl9zaWRlKGN6LCBzeiArIGNzeiwgcHopID09IDAgJiYgQUFCQl9zaWRlKGN5ICsgc3ksIHN5ICsgY3N5LCBweSArIGNzeSkgPT0gMCl7CiAgICAgICAgICAgIGlmKHB5ID49IGN5ICsgMiAqIHN5IC0gQUFCQl9zdCAmJiAoKGJvb2wpIGN1YmUxLm9uR3JvdW5kKSl7CiAgICAgICAgICAgICAgICBjdWJlMS5wb3NpdGlvbi55ID0gY3kgKyAyICogc3k7IAogICAgICAgICAgICAgICAgY3ViZTEudmVsb2NpdHkueSA9IChub3RFbXB0eSAob2JqKXRjdWJlLnZlbG9jaXR5KSA/IChudW0pdGN1YmUudmVsb2NpdHkueSA6IDA7CiAgICAgICAgICAgICAgICBjdWJlMS5vbkdyb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBjdWJlMS5wb3NpdGlvbi54ID0gY3ggKyBzeCArIGNzeDsKICAgICAgICAgICAgICAgIGN1YmUxLnZlbG9jaXR5LnggPSAobm90RW1wdHkgKG9iail0Y3ViZS52ZWxvY2l0eSkgPyAobnVtKXRjdWJlLnZlbG9jaXR5LnggOiAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN1YmUxLm9uV2FsbCA9IHRydWU7CiAgICAgICAgICAgIGNvbHNpZGUgfD0gQUFCQl9YTkVHOwogICAgICAgIH0KICAgICAgICAjICt4CiAgICAgICAgaWYocHggPj0gY3ggLSBzeCAtIGNzeCAmJiBvcHggPD0gb2N4IC0gc3ggLSBjc3ggJiYgQUFCQl9zaWRlKGN6LCBzeiArIGNzeiwgcHopID09IDAgJiYgQUFCQl9zaWRlKGN5ICsgc3ksIHN5ICsgY3N5LCBweSArIGNzeSkgPT0gMCl7CiAgICAgICAgICAgIGlmKHB5ID49IGN5ICsgMiAqIHN5IC0gQUFCQl9zdCAmJiAoKGJvb2wpIGN1YmUxLm9uR3JvdW5kKSl7CiAgICAgICAgICAgICAgICBjdWJlMS5wb3NpdGlvbi55ID0gY3kgKyAyICogc3k7IAogICAgICAgICAgICAgICAgY3ViZTEudmVsb2NpdHkueSA9IChub3RFbXB0eSAob2JqKXRjdWJlLnZlbG9jaXR5KSA/IChudW0pdGN1YmUudmVsb2NpdHkueSA6IDA7CiAgICAgICAgICAgICAgICBjdWJlMS5vbkdyb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBjdWJlMS5wb3NpdGlvbi54ID0gY3ggLSBzeCAtIGNzeDsKICAgICAgICAgICAgICAgIGN1YmUxLnZlbG9jaXR5LnggPSAobm90RW1wdHkgKG9iail0Y3ViZS52ZWxvY2l0eSkgPyAobnVtKXRjdWJlLnZlbG9jaXR5LnggOiAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN1YmUxLm9uV2FsbCA9IHRydWU7CiAgICAgICAgICAgIGNvbHNpZGUgfD0gQUFCQl9YUE9TOwogICAgICAgIH0KICAgICAgICAjIC15CiAgICAgICAgaWYocHkgPD0gY3kgKyAyICogc3kgJiYgb3B5ID49IG9jeSArIDIgKiBzeSAmJiBBQUJCX3NpZGUoY3gsIHN4ICsgY3N4LCBweCkgPT0gMCAmJiBBQUJCX3NpZGUoY3osIHN6ICsgY3N6LCBweikgPT0gMCl7CiAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnkgPSBjeSArIDIgKiBzeTsKICAgICAgICAgICAgY3ViZTEudmVsb2NpdHkueSA9IChub3RFbXB0eSAob2JqKXRjdWJlLnZlbG9jaXR5KSA/IChudW0pdGN1YmUudmVsb2NpdHkueSA6IDA7CiAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1lORUc7CiAgICAgICAgfQogICAgICAgICMgK3kKICAgICAgICBpZihweSArIDIgKiBjc3kgPj0gY3kgJiYgb3B5ICsgMiAqIGNzeSA8PSBvY3kgJiYgQUFCQl9zaWRlKGN4LCBzeCArIGNzeCwgcHgpID09IDAgJiYgQUFCQl9zaWRlKGN6LCBzeiArIGNzeiwgcHopID09IDApewogICAgICAgICAgICBjdWJlMS5wb3NpdGlvbi55ID0gY3kgLSAyICogY3N5OwogICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS55ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS55IDogMDsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1lQT1M7CiAgICAgICAgfQogICAgICAgICMgLXoKICAgICAgICBpZihweiA8PSBjeiArIHN6ICsgY3N6ICYmIG9weiA+PSBvY3ogKyBzeiArIGNzeiAmJiBBQUJCX3NpZGUoY3gsIHN4ICsgY3N4LCBweCkgPT0gMCAmJiBBQUJCX3NpZGUoY3kgKyBzeSwgc3kgKyBjc3osIHB5ICsgY3N6KSA9PSAwKXsKICAgICAgICAgICAgaWYocHkgPj0gY3kgKyAyICogc3kgLSBBQUJCX3N0ICYmICgoYm9vbCkgY3ViZTEub25Hcm91bmQpKXsKICAgICAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnkgPSBjeSArIDIgKiBzeTsgCiAgICAgICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS55ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS55IDogMDsKICAgICAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgY3ViZTEucG9zaXRpb24ueiA9IGN6ICsgc3ogKyBjc3o7CiAgICAgICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS56ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS56IDogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgY3ViZTEub25XYWxsID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1pORUc7CiAgICAgICAgfQogICAgICAgICMgK3oKICAgICAgICBpZihweiA+PSBjeiAtIHN6IC0gY3N6ICYmIG9weiA8PSBvY3ogLSBzeiAtIGNzeiAmJiBBQUJCX3NpZGUoY3gsIHN4ICsgY3N4LCBweCkgPT0gMCAmJiBBQUJCX3NpZGUoY3kgKyBzeSwgc3kgKyBjc3ksIHB5ICsgY3N5KSA9PSAwKXsKICAgICAgICAgICAgaWYocHkgPj0gY3kgKyAyICogc3kgLSBBQUJCX3N0ICYmICgoYm9vbCkgY3ViZTEub25Hcm91bmQpKXsKICAgICAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnkgPSBjeSArIDIgKiBzeTsgCiAgICAgICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS55ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS55IDogMDsgCiAgICAgICAgICAgICAgICBjdWJlMS5vbkdyb3VuZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnogPSBjeiAtIHN6IC0gY3N6OwogICAgICAgICAgICAgICAgY3ViZTEudmVsb2NpdHkueiA9IChub3RFbXB0eSAob2JqKXRjdWJlLnZlbG9jaXR5KSA/IChudW0pdGN1YmUudmVsb2NpdHkueiA6IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3ViZTEub25XYWxsID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1pQT1M7CiAgICAgICAgfQogICAgICAgIGlmIChjb2xzaWRlID4gMCl7CiAgICAgICAgICAgIGNvbG9iaiA9IHRjdWJlOwogICAgICAgICAgICBhZGRUbyBjb2xsaXNpb25zIHtjb2xzaWRlOmNvbHNpZGUsY29sb2JqOmNvbG9ian07CiAgICAgICAgfSAKICAgICAgICB0b3RhbGNvbHNpZGUgfD0gY29sc2lkZTsKCX0KICAgIGlmIChub3RFbXB0eSAob2JqKWN1YmUxLm9ncG9zKSB7CiAgICAgICAgY3ViZTEub2dwb3MueCA9IChudW0pIGN1YmUxLnBvc2l0aW9uLnggKyAwOwogICAgICAgIGN1YmUxLm9ncG9zLnkgPSAobnVtKSBjdWJlMS5wb3NpdGlvbi55ICsgMDsKICAgICAgICBjdWJlMS5vZ3Bvcy56ID0gKG51bSkgY3ViZTEucG9zaXRpb24ueiArIDA7CiAgICB9IGVsc2UgewogICAgICAgIGN1YmUxLm9ncG9zID0gCiAgICAgICAgewogICAgICAgICAgICB4OihudW0pY3ViZTEucG9zaXRpb24ueCArIDAsCiAgICAgICAgICAgIHk6KG51bSljdWJlMS5wb3NpdGlvbi55ICsgMCwKICAgICAgICAgICAgejoobnVtKWN1YmUxLnBvc2l0aW9uLnogKyAwCiAgICAgICAgfTsKICAgIH0KICAgICMgR0FNRS5sb2coY29sbGlzaW9ucyk7CiAgICByZXR1cm4gY29sbGlzaW9uczsKCQp9CgpvYmpbXSBhY3Rpb24gQUFCQl9kZXRlY3Qob2JqIGN1YmUxLG9ialtdIGN1YmVzKSB7CiAgICBvYmpbXSBjb2xsaXNpb25zID0gb2JqW107CiAgICBudW0gdG90YWxjb2xzaWRlID0gMDsKCWZvcihudW0gaSA9IDA7IGkgPCBsZW5ndGhPZiBjdWJlczsgaSsrKXsKICAgICAgICBudW0gY29sc2lkZSA9IDA7CiAgICAgICAgb2JqIGNvbG9iaiA9IHt9OwoKICAgICAgICBudW0gcHggPSAobnVtKSBjdWJlMS5wb3NpdGlvbi54OwogICAgICAgIG51bSBweSA9IChudW0pIGN1YmUxLnBvc2l0aW9uLnk7CiAgICAgICAgbnVtIHB6ID0gKG51bSkgY3ViZTEucG9zaXRpb24uejsKICAgICAgICBudW0gdnggPSAobnVtKSBjdWJlMS52ZWxvY2l0eS54OwogICAgICAgIG51bSB2eSA9IChudW0pIGN1YmUxLnZlbG9jaXR5Lnk7CiAgICAgICAgbnVtIHZ6ID0gKG51bSkgY3ViZTEudmVsb2NpdHkuejsKICAgICAgICAKICAgICAgICBudW0gY3N4ID0gKG51bSkgY3ViZTEuc2NhbGUueC8yOwogICAgICAgIG51bSBjc3kgPSAobnVtKSBjdWJlMS5zY2FsZS55LzI7CiAgICAgICAgbnVtIGNzeiA9IChudW0pIGN1YmUxLnNjYWxlLnovMjsKCiAgICAgICAgb2JqIHRjdWJlID0gY3ViZXNbaV07CiAgICAgICAgbnVtIGN4ID0gKG51bSkgdGN1YmUucG9zaXRpb24ueDsKICAgICAgICBudW0gY3kgPSAobnVtKSB0Y3ViZS5wb3NpdGlvbi55OwogICAgICAgIG51bSBjeiA9IChudW0pIHRjdWJlLnBvc2l0aW9uLno7CiAgICAgICAgbnVtIHN4ID0gKG51bSkgdGN1YmUuc2NhbGUueCAvIDI7CiAgICAgICAgbnVtIHN5ID0gKG51bSkgdGN1YmUuc2NhbGUueSAvIDI7CiAgICAgICAgbnVtIHN6ID0gKG51bSkgdGN1YmUuc2NhbGUueiAvIDI7CiAgICAgICAgbnVtIG9weCA9IHB4OwogICAgICAgIG51bSBvcHkgPSBweTsKICAgICAgICBudW0gb3B6ID0gcHo7CiAgICAgICAgbnVtIG9jeCA9IGN4OwogICAgICAgIG51bSBvY3kgPSBjeTsKICAgICAgICBudW0gb2N6ID0gY3o7CiAgICAgICAgCiAgICAgICAgaWYgKG5vdEVtcHR5IChvYmopIGN1YmUxLm9ncG9zKXsKICAgICAgICAgICAgb3B4ID0gKG51bSljdWJlMS5vZ3Bvcy54OwogICAgICAgICAgICBvcHkgPSAobnVtKWN1YmUxLm9ncG9zLnk7CiAgICAgICAgICAgIG9weiA9IChudW0pY3ViZTEub2dwb3MuejsKICAgICAgICB9IGlmIChub3RFbXB0eSAob2JqKXRjdWJlLm9ncG9zKXsKICAgICAgICAgICAgb2N4ID0gKG51bSl0Y3ViZS5vZ3Bvcy54OwogICAgICAgICAgICBvY3kgPSAobnVtKXRjdWJlLm9ncG9zLnk7CiAgICAgICAgICAgIG9jeiA9IChudW0pdGN1YmUub2dwb3MuejsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgIyAteAogICAgICAgIGlmKHB4IDw9IGN4ICsgc3ggKyBjc3ggJiYgb3B4ID49IG9jeCArIHN4ICsgY3N4ICYmIEFBQkJfc2lkZShjeiwgc3ogKyBjc3osIHB6KSA9PSAwICYmIEFBQkJfc2lkZShjeSArIHN5LCBzeSArIGNzeSwgcHkgKyBjc3kpID09IDApewogICAgICAgICAgICBpZihweSA+PSBjeSArIDIgKiBzeSAtIEFBQkJfc3QgJiYgKChib29sKSBjdWJlMS5vbkdyb3VuZCkpewogICAgICAgICAgICAgICAgY3ViZTEub25Hcm91bmQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN1YmUxLm9uV2FsbCA9IHRydWU7CiAgICAgICAgICAgIGNvbHNpZGUgfD0gQUFCQl9YTkVHOwogICAgICAgIH0KICAgICAgICAjICt4CiAgICAgICAgaWYocHggPj0gY3ggLSBzeCAtIGNzeCAmJiBvcHggPD0gb2N4IC0gc3ggLSBjc3ggJiYgQUFCQl9zaWRlKGN6LCBzeiArIGNzeiwgcHopID09IDAgJiYgQUFCQl9zaWRlKGN5ICsgc3ksIHN5ICsgY3N5LCBweSArIGNzeSkgPT0gMCl7CiAgICAgICAgICAgIGlmKHB5ID49IGN5ICsgMiAqIHN5IC0gQUFCQl9zdCAmJiAoKGJvb2wpIGN1YmUxLm9uR3JvdW5kKSl7CiAgICAgICAgICAgICAgICBjdWJlMS5vbkdyb3VuZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3ViZTEub25XYWxsID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1hQT1M7CiAgICAgICAgfQogICAgICAgICMgLXkKICAgICAgICBpZihweSA8PSBjeSArIDIgKiBzeSAmJiBvcHkgPj0gb2N5ICsgMiAqIHN5ICYmIEFBQkJfc2lkZShjeCwgc3ggKyBjc3gsIHB4KSA9PSAwICYmIEFBQkJfc2lkZShjeiwgc3ogKyBjc3osIHB6KSA9PSAwKXsKICAgICAgICAgICAgY3ViZTEub25Hcm91bmQgPSB0cnVlOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWU5FRzsKICAgICAgICB9CiAgICAgICAgIyAreQogICAgICAgIGlmKHB5ICsgMiAqIGNzeSA+PSBjeSAmJiBvcHkgKyAyICogY3N5IDw9IG9jeSAmJiBBQUJCX3NpZGUoY3gsIHN4ICsgY3N4LCBweCkgPT0gMCAmJiBBQUJCX3NpZGUoY3osIHN6ICsgY3N6LCBweikgPT0gMCl7CiAgICAgICAgICAgIGNvbHNpZGUgfD0gQUFCQl9ZUE9TOwogICAgICAgIH0KICAgICAgICAjIC16CiAgICAgICAgaWYocHogPD0gY3ogKyBzeiArIGNzeiAmJiBvcHogPj0gb2N6ICsgc3ogKyBjc3ogJiYgQUFCQl9zaWRlKGN4LCBzeCArIGNzeCwgcHgpID09IDAgJiYgQUFCQl9zaWRlKGN5ICsgc3ksIHN5ICsgY3N6LCBweSArIGNzeikgPT0gMCl7CiAgICAgICAgICAgIGlmKHB5ID49IGN5ICsgMiAqIHN5IC0gQUFCQl9zdCAmJiAoKGJvb2wpIGN1YmUxLm9uR3JvdW5kKSl7CiAgICAgICAgICAgICAgICBjdWJlMS5vbkdyb3VuZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3ViZTEub25XYWxsID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1pORUc7CiAgICAgICAgfQogICAgICAgICMgK3oKICAgICAgICBpZihweiA+PSBjeiAtIHN6IC0gY3N6ICYmIG9weiA8PSBvY3ogLSBzeiAtIGNzeiAmJiBBQUJCX3NpZGUoY3gsIHN4ICsgY3N4LCBweCkgPT0gMCAmJiBBQUJCX3NpZGUoY3kgKyBzeSwgc3kgKyBjc3ksIHB5ICsgY3N5KSA9PSAwKXsKICAgICAgICAgICAgaWYocHkgPj0gY3kgKyAyICogc3kgLSBBQUJCX3N0ICYmICgoYm9vbCkgY3ViZTEub25Hcm91bmQpKXsKICAgICAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjdWJlMS5vbldhbGwgPSB0cnVlOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWlBPUzsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbHNpZGUgPiAwKXsKICAgICAgICAgICAgY29sb2JqID0gdGN1YmU7CiAgICAgICAgICAgIGFkZFRvIGNvbGxpc2lvbnMge2NvbHNpZGU6Y29sc2lkZSxjb2xvYmo6Y29sb2JqfTsKICAgICAgICB9IAogICAgICAgIHRvdGFsY29sc2lkZSB8PSBjb2xzaWRlOwoJfQogICAgaWYgKG5vdEVtcHR5IChvYmopY3ViZTEub2dwb3MpIHsKICAgICAgICBjdWJlMS5vZ3Bvcy54ID0gKG51bSkgY3ViZTEucG9zaXRpb24ueCArIDA7CiAgICAgICAgY3ViZTEub2dwb3MueSA9IChudW0pIGN1YmUxLnBvc2l0aW9uLnkgKyAwOwogICAgICAgIGN1YmUxLm9ncG9zLnogPSAobnVtKSBjdWJlMS5wb3NpdGlvbi56ICsgMDsKICAgIH0gZWxzZSB7CiAgICAgICAgY3ViZTEub2dwb3MgPSAKICAgICAgICB7CiAgICAgICAgICAgIHg6KG51bSljdWJlMS5wb3NpdGlvbi54ICsgMCwKICAgICAgICAgICAgeToobnVtKWN1YmUxLnBvc2l0aW9uLnkgKyAwLAogICAgICAgICAgICB6OihudW0pY3ViZTEucG9zaXRpb24ueiArIDAKICAgICAgICB9OwogICAgfQogICAgIyBHQU1FLmxvZyhjb2xsaXNpb25zKTsKICAgIHJldHVybiBjb2xsaXNpb25zOwoJCn0KCgpvYmpbXSBhY3Rpb24gQUFCQl9yZXNvbHZlcGxyKG9iaiBwbHIsYm9vbCBjcm91Y2gsb2JqW10gY3ViZXMpewogICAgaWYgKGNyb3VjaCl7CiAgICAgICAgcGxyLnNjYWxlID0gCiAgICAgICAgewogICAgICAgICAgICB4OkFBQkJfdywKICAgICAgICAgICAgeTpBQUJCX2MsCiAgICAgICAgICAgIHo6QUFCQl93CiAgICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgICAgcGxyLnNjYWxlPQogICAgICAgIHsKICAgICAgICAgICAgeDpBQUJCX3csCiAgICAgICAgICAgIHk6QUFCQl9ILAogICAgICAgICAgICB6OkFBQkJfdwogICAgICAgIH07CiAgICB9CiAgICByZXR1cm4gQUFCQl9yZXNvbHZlKHBscixjdWJlcyk7Cn0KCmFjdGlvbiBBQUJCX29uUGxheWVyU3Bhd24oc3RyIGlkKSB7CiAgICBvYmogcGxyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKICAgIHBsci5zY2FsZSA9IHt4OkFBQkJfdyx5OkFBQkJfdyx6OkFBQkJfSH07Cn0KCgoKbnVtIHJfZGp1bXBub2RlX0NPT0xET1dOID0gMjAwMDsKbnVtIHJfZGp1bXBub2RlX1cgPSAwLjM7CnN0ciByX2RqdW1wbm9kZV9DT0xPUl9KVU1QID0gIiNFMkZGMDAiOwpudW0gcl9kanVtcG5vZGVfQUNRVUlSRUpVTVBTT1VORCA9IDQ5NjgzOwpudW0gcl9kanVtcG5vZGVfREpVTVBTT1VORCA9IDMyNTc2OwoKbnVtIHJfZGp1bXBub2RlX2RqYWxwaGEgPSAwOwoKYWN0aW9uIHJfZGp1bXBub2RlX29uUGxheWVyU3Bhd24oc3RyIGlkKSB7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCiAgICAjIG5vZGVzCiAgICBwbGF5ZXIubm9kZXMgPSBHQU1FLk9CSkVDVFMuZ2V0UGF0aE5vZGVzKCk7CiAgICBmb3IgKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIChvYmpbXSkgcGxheWVyLm5vZGVzOyBpKyspIHsKICAgICAgICBvYmpbXSBub2RlcyA9IChvYmpbXSkgcGxheWVyLm5vZGVzOwogICAgICAgIG9iaiBpbm9kZSA9IG5vZGVzW2ldOwogICAgICAgIGlub2RlLnRDb29sZG93biA9IDA7CiAgICAgICAgaW5vZGUuc2NhbGUgPSB7eDo1LHk6NSx6OjV9OwogICAgICAgIGlub2RlLnBvc2l0aW9uID0ge3g6aW5vZGUueCx5Omlub2RlLnksejppbm9kZS56fTsKICAgIH0KICAgICMgcGxheWVyIGp1bXAKICAgIHBsYXllci50aW1lTGFzdENyb3VjaGVkID0gMDsKICAgIHBsYXllci5qdW1wQ291bnQgPSAwOwogICAgcGxheWVyLmhhc0p1bXBlZCA9IGZhbHNlOwogICAgcGxheWVyLnJlZ2lzdGVyU3luY1ZhbHVlcygidGltZUxhc3RDcm91Y2hlZCIpOwogICAgcGxheWVyLnJlZ2lzdGVyU3luY1ZhbHVlcygidGltZUxhc3RPbkdyb3VuZCIpOwogICAgcGxheWVyLnJlZ2lzdGVyU3luY1ZhbHVlcygianVtcENvdW50Iik7CiAgICBwbGF5ZXIucmVnaXN0ZXJTeW5jVmFsdWVzKCJoYXNKdW1wZWQiKTsKICAgIHBsYXllci5yZWdpc3RlclN5bmNWYWx1ZXMoIm5vZGVzIik7CgogICAgCn0KCmFjdGlvbiByX2RqdW1wbm9kZV9vblBsYXllclVwZGF0ZShzdHIgaWQsIG51bSBkZWx0YSwgb2JqIGlucHV0cykgewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CiAgICAKICAgICMgY3JvdWNoCiAgICBpZiAoKGJvb2wpIHBsYXllci5jcm91Y2gpewogICAgICAgIHBsYXllci5zY2FsZSA9IAogICAgICAgIHsKICAgICAgICAgICAgeDpBQUJCX3csCiAgICAgICAgICAgIHk6QUFCQl9jLAogICAgICAgICAgICB6OkFBQkJfdwogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIHBsYXllci5zY2FsZT0KICAgICAgICB7CiAgICAgICAgICAgIHg6QUFCQl93LAogICAgICAgICAgICB5OkFBQkJfSCwKICAgICAgICAgICAgejpBQUJCX3cKICAgICAgICB9OwogICAgfQogICAgIyBjb2xsaXNpb25zIHdpdGggbm9kZXMKICAgIG9ialtdIGNvbGxpc2lvbnMgPSBBQUJCX2RldGVjdENvbGxpc2lvbnMocGxheWVyLChvYmpbXSlwbGF5ZXIubm9kZXMpOwogICAgaWYgKGxlbmd0aE9mIGNvbGxpc2lvbnMgPiAwKQogICAgewogICAgICAgIGZvciAobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgY29sbGlzaW9uczsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgb2JqIGNvbG9iaiA9IGNvbGxpc2lvbnNbaV07CiAgICAgICAgICAgIGlmICgobnVtKWNvbG9iai50Q29vbGRvd24gPT0gMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIyBhZGQganVtcAogICAgICAgICAgICAgICAgKG51bSlwbGF5ZXIuanVtcENvdW50Kz0xOwogICAgICAgICAgICAgICAgIyBpbmNyZWFzZSB0Q29vbGRvd24gdG8gcmVmcmVzaCByYXRlCiAgICAgICAgICAgICAgICBjb2xvYmoudENvb2xkb3duID0gcl9kanVtcG5vZGVfQ09PTERPV047CiAgICAgICAgICAgICAgICAjIGFjcXVpcmUganVtcCBzb3VuZAogICAgICAgICAgICAgICAgaWYgKChudW0pIERKY2ZnX25vZGVzX2MuQUNRVUlSRUpVTVBTT1VORCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBHQU1FLlNPVU5ELnBsYXkyRCgobnVtKSBESmNmZ19ub2Rlc19jLkFDUVVJUkVKVU1QU09VTkQsIDEsIDEsIGZhbHNlKTsgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAjIGRlY3JlbWVudCBub2RlcyBjb29sZG93biBhbmQgY29sb3IKICAgIGZvciAobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgKG9ialtdKSBwbGF5ZXIubm9kZXM7IGkrKykgewogICAgICAgIG9iaiBpbm9kZSA9ICgob2JqW10pIHBsYXllci5ub2RlcylbaV07CiAgICAgICAgKG51bSlpbm9kZS50Q29vbGRvd24gLT0gZGVsdGE7CiAgICAgICAgaWYgKChudW0paW5vZGUudENvb2xkb3duIDwgMCkKICAgICAgICB7CiAgICAgICAgICAgIGlub2RlLnRDb29sZG93bj0wOyAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0KICAgIAogICAgIyBEb3VibGUtSnVtcCBzdHVmZgoKICAgICMgY3JvdWNoIHRpbWVzdGFtcAogICAgaWYgKChib29sKSBpbnB1dHMuY3JvdWNoKSAKICAgIHsKICAgICAgICBwbGF5ZXIudGltZUxhc3RDcm91Y2hlZCA9IDA7CiAgICB9IAogICAgZWxzZSAKICAgIHsKICAgICAgICAobnVtKSBwbGF5ZXIudGltZUxhc3RDcm91Y2hlZCArPSBkZWx0YTsKICAgIH0KICAgICMgcmVzZXQganVtcGNvdW50IG9uIGdyb3VuZAogICAgaWYoKGJvb2wpIHBsYXllci5vbkdyb3VuZCkgCiAgICB7CiAgICAgICAgcGxheWVyLmp1bXBDb3VudCA9IChudW0pIERKY2ZnX25vZGVzX2MuTUFYX0pVTVBDT1VOVC0xOwogICAgICAgIHBsYXllci50aW1lTGFzdE9uR3JvdW5kID0gMDsKICAgIH0gCiAgICBlbHNlCiAgICB7CiAgICAgICAgKG51bSkgcGxheWVyLnRpbWVMYXN0T25Hcm91bmQgKz0gZGVsdGE7CiAgICB9IAogICAgIyAgcmVzZXQganVtcENvdW50IGFmdGVyIHdhbGxqdW1wCiAgICAgaWYgKChib29sKSBESmNmZ19ub2Rlc19jLldBTExKVU1QX1JFRlJFU0hTICYmIChib29sKSBwbGF5ZXIub25XYWxsICYmIChib29sKSBpbnB1dHMuanVtcCkgCiAgICB7CiAgICAgICAgcGxheWVyLmp1bXBDb3VudCA9IChudW0pIERKY2ZnX25vZGVzX2MuTUFYX0pVTVBDT1VOVC0xOwogICAgfSAKICAgICMgaW5wdXQganVtcCBsb2dpYwogICAgaWYoKGJvb2wpIGlucHV0cy5qdW1wKSB7CiAgICAgICAgaWYoIShib29sKXBsYXllci5oYXNKdW1wZWQgICYmIChudW0pcGxheWVyLmp1bXBDb3VudCA+IDAgJiYgIShib29sKXBsYXllci5vbkdyb3VuZCAmJiAoKG51bSlwbGF5ZXIudGltZUxhc3RPbkdyb3VuZCA+IDE1MCkpIAogICAgICAgIHsKICAgICAgICAgICAgaWYgKCEoYm9vbCkgcGxheWVyLm9uV2FsbCAmJiAoYm9vbClESmNmZ19ub2Rlc19jLldBTExKVU1QX1JFRlJFU0hTKSAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKChib29sKSBESmNmZ19ub2Rlc19jLkVOQUJMRV9DUk9VQ0hKVU1QICYmICgobnVtKXBsYXllci50aW1lTGFzdENyb3VjaGVkIDwgKG51bSlESmNmZ19ub2Rlc19jLk1TX0RVUkFUSU9OX1VOQ1JPVUNIKSkgCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnZlbG9jaXR5LnkgPSBNYXRoLmxlcnAoKG51bSkgREpjZmdfbm9kZXNfYy5WRUxfQ1JPVUNISlVNUCwobnVtKSBESmNmZ19ub2Rlc19jLlZFTF9KVU1QLChudW0pcGxheWVyLnRpbWVMYXN0Q3JvdWNoZWQvKG51bSkgREpjZmdfbm9kZXNfYy5NU19EVVJBVElPTl9VTkNST1VDSCk7CSMgIm1vb25qdW1waW5nIiBjYWxjdWxhdGlvbgogICAgICAgICAgICAgICAgfSBlbHNlIAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHBsYXllci52ZWxvY2l0eS55ID0gKG51bSkgREpjZmdfbm9kZXNfYy5WRUxfSlVNUDsJCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoKG51bSkgREpjZmdfbm9kZXNfYy5ESlVNUFNPVU5EID4gMCkgCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgR0FNRS5TT1VORC5wbGF5MkQoKG51bSkgREpjZmdfbm9kZXNfYy5ESlVNUFNPVU5ELCAxLCAwLjUsIGZhbHNlKTsgIyBqdW1wIERKY2ZnX25vZGVzX2MuU09VTkQKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAobnVtKXBsYXllci5qdW1wQ291bnQtLTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBwbGF5ZXIuaGFzSnVtcGVkID0gdHJ1ZTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHBsYXllci5oYXNKdW1wZWQgPSBmYWxzZTsKICAgIH0KfQoKbnVtIENPT0xET1dOID0gMjAwMDsKbnVtIFcgPSAwLjM7CnN0ciBDT0xPUl9KVU1QID0gIiNFMkZGMDAiOwoKb2JqW10gbm9kZXNsaXN0ID0gb2JqW107CgphY3Rpb24gZHVtbXlfQ2FsbGJhY2soKXsKfQoKcHVibGljIGFjdGlvbiBzdGFydCgpewoKICAgICMgYWRkIG5vZGVzIHRvIG9iaiBsaXN0CiAgICBvYmpbXSB0bm9kZXMgPSBHQU1FLk9CSkVDVFMuZ2V0UGF0aE5vZGVzKCk7CiAgICBmb3IgKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIHRub2RlczsgaSsrKSAKICAgIHsKICAgICAgICBvYmogbm9kZSA9IHRub2Rlc1tpXTsKICAgICAgICAjIG9iaiBub2Rlb2JqID0gR0FNRS5TQ0VORS5hZGRDdWJlKCIzMjYxNmciLCAiMHhmZmYiLCAobnVtKW5vZGUueCwgKG51bSlub2RlLnksIChudW0pbm9kZS56LCBXLCBXLCBXLCB7fSk7CiAgICAgICAgb2JqIG5vZGVvYmogPSBHQU1FLlNDRU5FLmFkZEFzc2V0KCIzMjYxNmciLCAobnVtKW5vZGUueCwgKG51bSlub2RlLnksIChudW0pbm9kZS56LCBXLCAiMHhmZmYiLCB7b3BhY2l0eToxfSwgZHVtbXlfQ2FsbGJhY2spOwogICAgICAgIGFkZFRvIG5vZGVzbGlzdCBub2Rlb2JqOwogICAgfQoKfQoKbnVtIGRqYWxwaGEgPSAwOwojIEdyZWVuIGluZGljYXRvciB5b3UgaGF2ZSBhIGRvdWJsZWp1bXAgc3RvcmVkCnB1YmxpYyBhY3Rpb24gcmVuZGVyKG51bSBkZWx0YSl7CgogICAgb2JqIHNpemUgPSBHQU1FLk9WRVJMQVkuZ2V0U2l6ZSgpOyAKICAgIG9iaiBwbHIgPSBHQU1FLlBMQVlFUlMuZ2V0U2VsZigpOwoKICAgICMgYWxwaGEgb2YgZGoKICAgIG51bSBmaW5hbGFscGhhID0gKG51bSlwbHIuanVtcENvdW50ID4gMCA/IDAuMSA6IDA7CiAgICBpZiAoTWF0aC5hYnMoZGphbHBoYS0gZmluYWxhbHBoYSkgPiAwLjAxKSB7CiAgICAgICAgZGphbHBoYSArPSgoZmluYWxhbHBoYS1kamFscGhhKSAqIDAuMDA2ICogZGVsdGEpOwogICAgfQoKICAgIEdBTUUuT1ZFUkxBWS5kcmF3UmVjdCgwLDAsKG51bSlzaXplLndpZHRoLChudW0pc2l6ZS5oZWlnaHQsMCxDT0xPUl9KVU1QLGRqYWxwaGEsZmFsc2UpOwogICAgIyBHQU1FLk9WRVJMQVkuZHJhd1JlY3QoeCwgeSwgdywgaCwgciwgY29sb3IsIG9wYWMsIGNlbnRlcikKCn0KCgpwdWJsaWMgYWN0aW9uIG9uUGxheWVyVXBkYXRlKHN0ciBpZCwgbnVtIGRlbHRhLCBvYmogaW5wdXRzKXsKICAgIHJfZGp1bXBub2RlX29uUGxheWVyVXBkYXRlKGlkLCAgZGVsdGEsICBpbnB1dHMpOwoKICAgIG9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwogICAgIyBkZWNyZW1lbnQgbm9kZXMgY29vbGRvd24gYW5kIGNvbG9yCiAgICBmb3IgKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIChvYmpbXSkgcGxheWVyLm5vZGVzOyBpKyspIHsKICAgICAgICBvYmogaW5vZGUgPSAoKG9ialtdKSBwbGF5ZXIubm9kZXMpW2ldOwogICAgICAgICMgY29sb3IKICAgICAgICBpZiAoKG51bSkgaW5vZGUudENvb2xkb3duID4gMCkKICAgICAgICB7CiAgICAgICAgICAgIG5vZGVzbGlzdFtpXS5vcGFjaXR5ID0gMC4xOwogICAgICAgIH0gCiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgbm9kZXNsaXN0W2ldLm9wYWNpdHkgPSAxOwogICAgICAgIH0KICAgIH0KCn0KCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBhdXRvLWRldGVjdGVkIHB1YmxpYyBhY3Rpb25zIGZyb20gbGlicmFyaWVzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpwdWJsaWMgYWN0aW9uIG9uUGxheWVyU3Bhd24gKHN0ciBpZCl7CiAgICBBQUJCX29uUGxheWVyU3Bhd24oaWQpOwogICAgcl9kanVtcG5vZGVfb25QbGF5ZXJTcGF3bihpZCk7Cn0KCg==","server":"IyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgRmlsZTogbGlic1xkb3VibGVqdW1wXGRqcmVnaXN0ZXJzeW5jX25vZGVzXHJfZGp1bXBub2RlX3Rlc3RzZXJ2ZXIua3JuawojIEF1dGhvcjogYmxhbmRyaWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgRmlsZTogbGlic1xkb3VibGVqdW1wXGRqcmVnaXN0ZXJzeW5jXHJfZGp1bXBjbGllbnQua3JuawojIEF1dGhvcjogRFFfU3dhdCArIGJsYW5kcmljZQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIFNFVFRJTkdTOgpvYmogREpjZmdfbm9kZXNfYyA9IAp7CiAgICBNQVhfSlVNUENPVU5UOiAxLCAjIDIgaXMgImRvdWJsZWp1bXAiLCAzIGlzICJ0cmlwbGVqdW1wIgogICAgV0FMTEpVTVBfUkVGUkVTSFM6IHRydWUsCiAgICBFTkFCTEVfQ1JPVUNISlVNUDogdHJ1ZSwgIyBsb3dlciBoZWlnaHQgZm9yIGNyb3VjaCBqdW1wLCBhbHNvIGFwcGxpZXMgIm1vb25qdW1wIiBtaWQtYWlyIHBoeXNpY3MKICAgIEFDUVVJUkVKVU1QU09VTkQ6IDQ5NjgzLCAjIHNvdW5kIElELiBzZXQgdG8gMCBpZiBubyBzb3VuZCBkZXNpcmVkCiAgICBESlVNUFNPVU5EOiAzMjU3NiwgIyBzb3VuZCBJRC4gc2V0IHRvIDAgaWYgbm8gc291bmQgZGVzaXJlZAogICAgIyBIQVJELUNPREVEIE5VTUJFUlMgLSBET04nVCBUT1VDSAogICAgTVNfRFVSQVRJT05fVU5DUk9VQ0g6IDE2NiwKICAgIFZFTF9KVU1QOiAwLjA3OTMsICMgNjBGUFMsIG1heCBjbGVhcmFuY2UgMTcuOSB1bml0cwogICAgVkVMX0NST1VDSEpVTVA6IDAuMDU5NSwgIyA2MEZQUywgbWF4IGNsZWFyYW5jZSAxMC4yIHVuaXRzCn07CgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgSGVhZGVyOiBcbGlic1xjb2xsaXNpb25zXEFBQkIua3JuawojIEF1dGhvcjogS0cwNyAobW9kaWZpZWQgYnkgYmxhbmRyaWNlKQojIERlc2NyaXB0aW9uOiBBQUJCIChheGlzLWFsaWduZWQgYm91bmRpbmcgYm94LWJveCkgY29sbGlzaW9uICsgcmVzb2x1dGlvbgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCm51bSBBQUJCX3cgPSA0Ljk7IyBwbGF5ZXIgd2lkdGgKbnVtIEFBQkJfYyA9IDg7IyBjcm91Y2hpbmcgaGVpZ2h0Cm51bSBBQUJCX0ggPSAxMTsjIHN0YW5kaW5nIGhlaWdodAoKI2NvbHNpZGUKbnVtIEFBQkJfWE5FRyA9IDB4MTsKbnVtIEFBQkJfWFBPUyA9IDB4MjsKbnVtIEFBQkJfWU5FRyA9IDB4NDsgI2hpdCAiZ3JvdW5kIgpudW0gQUFCQl9ZUE9TID0gMHg4OyAKbnVtIEFBQkJfWk5FRyA9IDB4MTA7Cm51bSBBQUJCX1pQT1MgPSAweDIwOwoKIyBjb2xsaWRlIHR5cGVzCm51bSBBQUJCX0NPTF9OT05FID0gMHgwOyAjIG5vIGNvbGxpZGUKbnVtIEFBQkJfQ09MX1dPUkxEID0gMHgwMTsgIyBvYmplY3QgY2FuIGNvbGxpZGUgd2l0aCB3b3JsZApudW0gQUFCQl9DT0xfT0JKUyA9IDB4MDI7ICMgb2JqZWN0IGNhbiBjb2xsaWRlIHdpdGggb3RoZXIgb2JqZWN0cwpudW0gQUFCQl9DT0xfUExSUyA9IDB4MDQ7ICMgb2JqZWN0IGNhbiBBQUJCX2RldGVjdCBjb2xsaWRlIHdpdGggcGxheWVyCm51bSBBQUJCX0NPTF9PQkoyUExSUyA9IDB4MDg7ICMgIyBwbGF5ZXIgY2FuIGNvbGxpZGUgd2l0aCBvYmplY3QgKHVzdWFsbHkgcmVzb2x2ZXMgY29sbGlkZS4gY3VycmVudGx5IGRlZmF1bHQgdGhpcyBkb2VzIG5vdCBtYXR0ZXIpCgojIGdlb21ldHJ5IHR5cGVzCm51bSBBQUJCX0dFT19DVUJFID0gMDsKbnVtIEFBQkJfR0VPX1NQSEVSRSA9IDE7Cm51bSBBQUJCX0dFT19DWUxJTkRFUiA9IDI7Cm51bSBBQUJCX0dFT19ST1RDVUJFID0gMzsKbnVtIEFBQkJfR0VPX0NPTVBMRVhDT0wgPSA0OwoKIyBBQUJCX3Jlc29sdmUgdHlwZXMKbnVtIEFBQkJfUkVTX05PTkUgPSAwOyAjIHN0b3AgbW92ZW1lbnQKbnVtIEFBQkJfUkVTX1NUT1AgPSAxOyAjIHN0b3AgbW92ZW1lbnQKCmJvb2wgYWN0aW9uIEFBQkJfaXNDb2xsaXNpb24ob2JqIGN1YmUxLCBvYmogY3ViZTIpCnsKICAgICMgQWRhcHRlZCBmcm9tIGh0dHBzOi8vdHV0b3JpYWxlZGdlLm5ldC9nYW1lZGV2L2FhYmItY29sbGlzaW9uLWRldGVjdGlvbi10dXRvcmlhbC8KICAgIG51bSBkeCA9IE1hdGguYWJzKChudW0pY3ViZTEucG9zaXRpb24ueCAtIChudW0pY3ViZTIucG9zaXRpb24ueCkgLSAoKG51bSljdWJlMS5zY2FsZS54LzIgKyAobnVtKWN1YmUyLnNjYWxlLngvMik7CiAgICBudW0gZHkgPSBNYXRoLmFicygobnVtKWN1YmUxLnBvc2l0aW9uLnkgKyhudW0pY3ViZTEuc2NhbGUueS8yIC0gKG51bSljdWJlMi5wb3NpdGlvbi55IC0gKG51bSljdWJlMi5zY2FsZS55LzIpIC0gKChudW0pY3ViZTEuc2NhbGUueS8yICsgKG51bSljdWJlMi5zY2FsZS55LzIpOwogICAgbnVtIGR6ID0gKE1hdGguYWJzKChudW0pY3ViZTEucG9zaXRpb24ueiAtIChudW0pY3ViZTIucG9zaXRpb24ueikgLSAoKG51bSljdWJlMS5zY2FsZS56LzIgKyAobnVtKWN1YmUyLnNjYWxlLnovMikpOwogICAgaWYgKChkeCA8IDApICYmIChkeSA8IDApICYmIChkeiA8IDApKQogICAgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogICAgICAgIAp9CgpvYmpbXSBhY3Rpb24gQUFCQl9kZXRlY3RDb2xsaXNpb25zKG9iaiBjdWJlMSwgb2JqW10gY3ViZXMpCnsKICAgIG9ialtdIGNvbGxpc2lvbnMgPSBvYmpbXTsKICAgIGZvciAobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgY3ViZXM7IGkrKykKICAgIHsKICAgICAgICBpZiAoQUFCQl9pc0NvbGxpc2lvbihjdWJlMSxjdWJlc1tpXSkpCiAgICAgICAgewogICAgICAgICAgICBhZGRUbyBjb2xsaXNpb25zIGN1YmVzW2ldOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBjb2xsaXNpb25zOwp9CgoKCm9iaiBhY3Rpb24gQUFCQl9DYWxjdWxhdGVBYWJiRGlzdGFuY2VUbyhvYmogY3ViZTEsIG9iaiBjdWJlMikKewogICAgbnVtIGR4ID0gTWF0aC5hYnMoKG51bSljdWJlMS5wb3NpdGlvbi54IC0gKG51bSljdWJlMi5wb3NpdGlvbi54KSAtICgobnVtKWN1YmUxLnNjYWxlLngvMiArIChudW0pY3ViZTIuc2NhbGUueC8yKTsKICAgIG51bSBkeSA9IE1hdGguYWJzKChudW0pY3ViZTEucG9zaXRpb24ueSArKG51bSljdWJlMS5zY2FsZS55LzIgLSAobnVtKWN1YmUyLnBvc2l0aW9uLnkgLSAobnVtKWN1YmUyLnNjYWxlLnkvMikgLSAoKG51bSljdWJlMS5zY2FsZS55LzIgKyAobnVtKWN1YmUyLnNjYWxlLnkvMik7CiAgICBudW0gZHogPSAoTWF0aC5hYnMoKG51bSljdWJlMS5wb3NpdGlvbi56IC0gKG51bSljdWJlMi5wb3NpdGlvbi56KSAtICgobnVtKWN1YmUxLnNjYWxlLnovMiArIChudW0pY3ViZTIuc2NhbGUuei8yKSk7CgogICAgcmV0dXJuIHt4OmR4LHk6ZHksejpken07Cn0KCm51bSBBQUJCX3N0ID0gMzsjc3RhaXIgaGVpZ2h0CgpudW0gYWN0aW9uIEFBQkJfc2lkZShudW0gQywgbnVtIFMsIG51bSBpbnB1dCl7CglpZihpbnB1dCA8PSBDLVMpe3JldHVybiAtMTt9CglpZihpbnB1dCA+PSBDK1Mpe3JldHVybiAxO30KCXJldHVybiAwOwp9CgpvYmpbXSBhY3Rpb24gQUFCQl9yZXNvbHZlKG9iaiBjdWJlMSxvYmpbXSBjdWJlcykgewogICAgb2JqW10gY29sbGlzaW9ucyA9IG9ialtdOwogICAgbnVtIHRvdGFsY29sc2lkZSA9IDA7Cglmb3IobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgY3ViZXM7IGkrKyl7CiAgICAgICAgbnVtIGNvbHNpZGUgPSAwOwogICAgICAgIG9iaiBjb2xvYmogPSB7fTsKCiAgICAgICAgbnVtIHB4ID0gKG51bSkgY3ViZTEucG9zaXRpb24ueDsKICAgICAgICBudW0gcHkgPSAobnVtKSBjdWJlMS5wb3NpdGlvbi55OwogICAgICAgIG51bSBweiA9IChudW0pIGN1YmUxLnBvc2l0aW9uLno7CiAgICAgICAgbnVtIHZ4ID0gKG51bSkgY3ViZTEudmVsb2NpdHkueDsKICAgICAgICBudW0gdnkgPSAobnVtKSBjdWJlMS52ZWxvY2l0eS55OwogICAgICAgIG51bSB2eiA9IChudW0pIGN1YmUxLnZlbG9jaXR5Lno7CiAgICAgICAgCiAgICAgICAgbnVtIGNzeCA9IChudW0pIGN1YmUxLnNjYWxlLngvMjsKICAgICAgICBudW0gY3N5ID0gKG51bSkgY3ViZTEuc2NhbGUueS8yOwogICAgICAgIG51bSBjc3ogPSAobnVtKSBjdWJlMS5zY2FsZS56LzI7CgogICAgICAgIG9iaiB0Y3ViZSA9IGN1YmVzW2ldOwogICAgICAgIGlmIChub3RFbXB0eSAob2JqKXRjdWJlLmNvbGxpZGUpCiAgICAgICAgewogICAgICAgICAgICBpZiAoISgobnVtKXRjdWJlLmNvbGxpZGUudHlwZSAmIEFBQkJfQ09MX09CSjJQTFJTKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29udGludWU7ICMgc2tpcCB0aGlzIG9iamVjdCBpZiBpdCBpcyBub3QgY29sbGlkYWJsZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIG51bSBjeCA9IChudW0pIHRjdWJlLnBvc2l0aW9uLng7CiAgICAgICAgbnVtIGN5ID0gKG51bSkgdGN1YmUucG9zaXRpb24ueTsKICAgICAgICBudW0gY3ogPSAobnVtKSB0Y3ViZS5wb3NpdGlvbi56OwogICAgICAgIG51bSBzeCA9IChudW0pIHRjdWJlLnNjYWxlLnggLyAyOwogICAgICAgIG51bSBzeSA9IChudW0pIHRjdWJlLnNjYWxlLnkgLyAyOwogICAgICAgIG51bSBzeiA9IChudW0pIHRjdWJlLnNjYWxlLnogLyAyOwogICAgICAgIG51bSBvcHggPSBweDsKICAgICAgICBudW0gb3B5ID0gcHk7CiAgICAgICAgbnVtIG9weiA9IHB6OwogICAgICAgIG51bSBvY3ggPSBjeDsKICAgICAgICBudW0gb2N5ID0gY3k7CiAgICAgICAgbnVtIG9jeiA9IGN6OwogICAgICAgIAogICAgICAgIGlmIChub3RFbXB0eSAob2JqKSBjdWJlMS5vZ3Bvcyl7CiAgICAgICAgICAgIG9weCA9IChudW0pY3ViZTEub2dwb3MueDsKICAgICAgICAgICAgb3B5ID0gKG51bSljdWJlMS5vZ3Bvcy55OwogICAgICAgICAgICBvcHogPSAobnVtKWN1YmUxLm9ncG9zLno7CiAgICAgICAgfSBpZiAobm90RW1wdHkgKG9iail0Y3ViZS5vZ3Bvcyl7CiAgICAgICAgICAgIG9jeCA9IChudW0pdGN1YmUub2dwb3MueDsKICAgICAgICAgICAgb2N5ID0gKG51bSl0Y3ViZS5vZ3Bvcy55OwogICAgICAgICAgICBvY3ogPSAobnVtKXRjdWJlLm9ncG9zLno7CiAgICAgICAgfQogICAgICAgIAogICAgICAgICMgLXgKICAgICAgICBpZihweCA8PSBjeCArIHN4ICsgY3N4ICYmIG9weCA+PSBvY3ggKyBzeCArIGNzeCAmJiBBQUJCX3NpZGUoY3osIHN6ICsgY3N6LCBweikgPT0gMCAmJiBBQUJCX3NpZGUoY3kgKyBzeSwgc3kgKyBjc3ksIHB5ICsgY3N5KSA9PSAwKXsKICAgICAgICAgICAgaWYocHkgPj0gY3kgKyAyICogc3kgLSBBQUJCX3N0ICYmICgoYm9vbCkgY3ViZTEub25Hcm91bmQpKXsKICAgICAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnkgPSBjeSArIDIgKiBzeTsgCiAgICAgICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS55ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS55IDogMDsKICAgICAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnggPSBjeCArIHN4ICsgY3N4OwogICAgICAgICAgICAgICAgY3ViZTEudmVsb2NpdHkueCA9IChub3RFbXB0eSAob2JqKXRjdWJlLnZlbG9jaXR5KSA/IChudW0pdGN1YmUudmVsb2NpdHkueCA6IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3ViZTEub25XYWxsID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1hORUc7CiAgICAgICAgfQogICAgICAgICMgK3gKICAgICAgICBpZihweCA+PSBjeCAtIHN4IC0gY3N4ICYmIG9weCA8PSBvY3ggLSBzeCAtIGNzeCAmJiBBQUJCX3NpZGUoY3osIHN6ICsgY3N6LCBweikgPT0gMCAmJiBBQUJCX3NpZGUoY3kgKyBzeSwgc3kgKyBjc3ksIHB5ICsgY3N5KSA9PSAwKXsKICAgICAgICAgICAgaWYocHkgPj0gY3kgKyAyICogc3kgLSBBQUJCX3N0ICYmICgoYm9vbCkgY3ViZTEub25Hcm91bmQpKXsKICAgICAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnkgPSBjeSArIDIgKiBzeTsgCiAgICAgICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS55ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS55IDogMDsKICAgICAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnggPSBjeCAtIHN4IC0gY3N4OwogICAgICAgICAgICAgICAgY3ViZTEudmVsb2NpdHkueCA9IChub3RFbXB0eSAob2JqKXRjdWJlLnZlbG9jaXR5KSA/IChudW0pdGN1YmUudmVsb2NpdHkueCA6IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3ViZTEub25XYWxsID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1hQT1M7CiAgICAgICAgfQogICAgICAgICMgLXkKICAgICAgICBpZihweSA8PSBjeSArIDIgKiBzeSAmJiBvcHkgPj0gb2N5ICsgMiAqIHN5ICYmIEFBQkJfc2lkZShjeCwgc3ggKyBjc3gsIHB4KSA9PSAwICYmIEFBQkJfc2lkZShjeiwgc3ogKyBjc3osIHB6KSA9PSAwKXsKICAgICAgICAgICAgY3ViZTEucG9zaXRpb24ueSA9IGN5ICsgMiAqIHN5OwogICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS55ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS55IDogMDsKICAgICAgICAgICAgY3ViZTEub25Hcm91bmQgPSB0cnVlOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWU5FRzsKICAgICAgICB9CiAgICAgICAgIyAreQogICAgICAgIGlmKHB5ICsgMiAqIGNzeSA+PSBjeSAmJiBvcHkgKyAyICogY3N5IDw9IG9jeSAmJiBBQUJCX3NpZGUoY3gsIHN4ICsgY3N4LCBweCkgPT0gMCAmJiBBQUJCX3NpZGUoY3osIHN6ICsgY3N6LCBweikgPT0gMCl7CiAgICAgICAgICAgIGN1YmUxLnBvc2l0aW9uLnkgPSBjeSAtIDIgKiBjc3k7CiAgICAgICAgICAgIGN1YmUxLnZlbG9jaXR5LnkgPSAobm90RW1wdHkgKG9iail0Y3ViZS52ZWxvY2l0eSkgPyAobnVtKXRjdWJlLnZlbG9jaXR5LnkgOiAwOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWVBPUzsKICAgICAgICB9CiAgICAgICAgIyAtegogICAgICAgIGlmKHB6IDw9IGN6ICsgc3ogKyBjc3ogJiYgb3B6ID49IG9jeiArIHN6ICsgY3N6ICYmIEFBQkJfc2lkZShjeCwgc3ggKyBjc3gsIHB4KSA9PSAwICYmIEFBQkJfc2lkZShjeSArIHN5LCBzeSArIGNzeiwgcHkgKyBjc3opID09IDApewogICAgICAgICAgICBpZihweSA+PSBjeSArIDIgKiBzeSAtIEFBQkJfc3QgJiYgKChib29sKSBjdWJlMS5vbkdyb3VuZCkpewogICAgICAgICAgICAgICAgY3ViZTEucG9zaXRpb24ueSA9IGN5ICsgMiAqIHN5OyAKICAgICAgICAgICAgICAgIGN1YmUxLnZlbG9jaXR5LnkgPSAobm90RW1wdHkgKG9iail0Y3ViZS52ZWxvY2l0eSkgPyAobnVtKXRjdWJlLnZlbG9jaXR5LnkgOiAwOwogICAgICAgICAgICAgICAgY3ViZTEub25Hcm91bmQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBjdWJlMS5wb3NpdGlvbi56ID0gY3ogKyBzeiArIGNzejsKICAgICAgICAgICAgICAgIGN1YmUxLnZlbG9jaXR5LnogPSAobm90RW1wdHkgKG9iail0Y3ViZS52ZWxvY2l0eSkgPyAobnVtKXRjdWJlLnZlbG9jaXR5LnogOiAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBjdWJlMS5vbldhbGwgPSB0cnVlOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWk5FRzsKICAgICAgICB9CiAgICAgICAgIyAregogICAgICAgIGlmKHB6ID49IGN6IC0gc3ogLSBjc3ogJiYgb3B6IDw9IG9jeiAtIHN6IC0gY3N6ICYmIEFBQkJfc2lkZShjeCwgc3ggKyBjc3gsIHB4KSA9PSAwICYmIEFBQkJfc2lkZShjeSArIHN5LCBzeSArIGNzeSwgcHkgKyBjc3kpID09IDApewogICAgICAgICAgICBpZihweSA+PSBjeSArIDIgKiBzeSAtIEFBQkJfc3QgJiYgKChib29sKSBjdWJlMS5vbkdyb3VuZCkpewogICAgICAgICAgICAgICAgY3ViZTEucG9zaXRpb24ueSA9IGN5ICsgMiAqIHN5OyAKICAgICAgICAgICAgICAgIGN1YmUxLnZlbG9jaXR5LnkgPSAobm90RW1wdHkgKG9iail0Y3ViZS52ZWxvY2l0eSkgPyAobnVtKXRjdWJlLnZlbG9jaXR5LnkgOiAwOyAKICAgICAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgY3ViZTEucG9zaXRpb24ueiA9IGN6IC0gc3ogLSBjc3o7CiAgICAgICAgICAgICAgICBjdWJlMS52ZWxvY2l0eS56ID0gKG5vdEVtcHR5IChvYmopdGN1YmUudmVsb2NpdHkpID8gKG51bSl0Y3ViZS52ZWxvY2l0eS56IDogMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBjdWJlMS5vbldhbGwgPSB0cnVlOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWlBPUzsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbHNpZGUgPiAwKXsKICAgICAgICAgICAgY29sb2JqID0gdGN1YmU7CiAgICAgICAgICAgIGFkZFRvIGNvbGxpc2lvbnMge2NvbHNpZGU6Y29sc2lkZSxjb2xvYmo6Y29sb2JqfTsKICAgICAgICB9IAogICAgICAgIHRvdGFsY29sc2lkZSB8PSBjb2xzaWRlOwoJfQogICAgaWYgKG5vdEVtcHR5IChvYmopY3ViZTEub2dwb3MpIHsKICAgICAgICBjdWJlMS5vZ3Bvcy54ID0gKG51bSkgY3ViZTEucG9zaXRpb24ueCArIDA7CiAgICAgICAgY3ViZTEub2dwb3MueSA9IChudW0pIGN1YmUxLnBvc2l0aW9uLnkgKyAwOwogICAgICAgIGN1YmUxLm9ncG9zLnogPSAobnVtKSBjdWJlMS5wb3NpdGlvbi56ICsgMDsKICAgIH0gZWxzZSB7CiAgICAgICAgY3ViZTEub2dwb3MgPSAKICAgICAgICB7CiAgICAgICAgICAgIHg6KG51bSljdWJlMS5wb3NpdGlvbi54ICsgMCwKICAgICAgICAgICAgeToobnVtKWN1YmUxLnBvc2l0aW9uLnkgKyAwLAogICAgICAgICAgICB6OihudW0pY3ViZTEucG9zaXRpb24ueiArIDAKICAgICAgICB9OwogICAgfQogICAgIyBHQU1FLmxvZyhjb2xsaXNpb25zKTsKICAgIHJldHVybiBjb2xsaXNpb25zOwoJCn0KCm9ialtdIGFjdGlvbiBBQUJCX2RldGVjdChvYmogY3ViZTEsb2JqW10gY3ViZXMpIHsKICAgIG9ialtdIGNvbGxpc2lvbnMgPSBvYmpbXTsKICAgIG51bSB0b3RhbGNvbHNpZGUgPSAwOwoJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGN1YmVzOyBpKyspewogICAgICAgIG51bSBjb2xzaWRlID0gMDsKICAgICAgICBvYmogY29sb2JqID0ge307CgogICAgICAgIG51bSBweCA9IChudW0pIGN1YmUxLnBvc2l0aW9uLng7CiAgICAgICAgbnVtIHB5ID0gKG51bSkgY3ViZTEucG9zaXRpb24ueTsKICAgICAgICBudW0gcHogPSAobnVtKSBjdWJlMS5wb3NpdGlvbi56OwogICAgICAgIG51bSB2eCA9IChudW0pIGN1YmUxLnZlbG9jaXR5Lng7CiAgICAgICAgbnVtIHZ5ID0gKG51bSkgY3ViZTEudmVsb2NpdHkueTsKICAgICAgICBudW0gdnogPSAobnVtKSBjdWJlMS52ZWxvY2l0eS56OwogICAgICAgIAogICAgICAgIG51bSBjc3ggPSAobnVtKSBjdWJlMS5zY2FsZS54LzI7CiAgICAgICAgbnVtIGNzeSA9IChudW0pIGN1YmUxLnNjYWxlLnkvMjsKICAgICAgICBudW0gY3N6ID0gKG51bSkgY3ViZTEuc2NhbGUuei8yOwoKICAgICAgICBvYmogdGN1YmUgPSBjdWJlc1tpXTsKICAgICAgICBudW0gY3ggPSAobnVtKSB0Y3ViZS5wb3NpdGlvbi54OwogICAgICAgIG51bSBjeSA9IChudW0pIHRjdWJlLnBvc2l0aW9uLnk7CiAgICAgICAgbnVtIGN6ID0gKG51bSkgdGN1YmUucG9zaXRpb24uejsKICAgICAgICBudW0gc3ggPSAobnVtKSB0Y3ViZS5zY2FsZS54IC8gMjsKICAgICAgICBudW0gc3kgPSAobnVtKSB0Y3ViZS5zY2FsZS55IC8gMjsKICAgICAgICBudW0gc3ogPSAobnVtKSB0Y3ViZS5zY2FsZS56IC8gMjsKICAgICAgICBudW0gb3B4ID0gcHg7CiAgICAgICAgbnVtIG9weSA9IHB5OwogICAgICAgIG51bSBvcHogPSBwejsKICAgICAgICBudW0gb2N4ID0gY3g7CiAgICAgICAgbnVtIG9jeSA9IGN5OwogICAgICAgIG51bSBvY3ogPSBjejsKICAgICAgICAKICAgICAgICBpZiAobm90RW1wdHkgKG9iaikgY3ViZTEub2dwb3MpewogICAgICAgICAgICBvcHggPSAobnVtKWN1YmUxLm9ncG9zLng7CiAgICAgICAgICAgIG9weSA9IChudW0pY3ViZTEub2dwb3MueTsKICAgICAgICAgICAgb3B6ID0gKG51bSljdWJlMS5vZ3Bvcy56OwogICAgICAgIH0gaWYgKG5vdEVtcHR5IChvYmopdGN1YmUub2dwb3MpewogICAgICAgICAgICBvY3ggPSAobnVtKXRjdWJlLm9ncG9zLng7CiAgICAgICAgICAgIG9jeSA9IChudW0pdGN1YmUub2dwb3MueTsKICAgICAgICAgICAgb2N6ID0gKG51bSl0Y3ViZS5vZ3Bvcy56OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAjIC14CiAgICAgICAgaWYocHggPD0gY3ggKyBzeCArIGNzeCAmJiBvcHggPj0gb2N4ICsgc3ggKyBjc3ggJiYgQUFCQl9zaWRlKGN6LCBzeiArIGNzeiwgcHopID09IDAgJiYgQUFCQl9zaWRlKGN5ICsgc3ksIHN5ICsgY3N5LCBweSArIGNzeSkgPT0gMCl7CiAgICAgICAgICAgIGlmKHB5ID49IGN5ICsgMiAqIHN5IC0gQUFCQl9zdCAmJiAoKGJvb2wpIGN1YmUxLm9uR3JvdW5kKSl7CiAgICAgICAgICAgICAgICBjdWJlMS5vbkdyb3VuZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3ViZTEub25XYWxsID0gdHJ1ZTsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1hORUc7CiAgICAgICAgfQogICAgICAgICMgK3gKICAgICAgICBpZihweCA+PSBjeCAtIHN4IC0gY3N4ICYmIG9weCA8PSBvY3ggLSBzeCAtIGNzeCAmJiBBQUJCX3NpZGUoY3osIHN6ICsgY3N6LCBweikgPT0gMCAmJiBBQUJCX3NpZGUoY3kgKyBzeSwgc3kgKyBjc3ksIHB5ICsgY3N5KSA9PSAwKXsKICAgICAgICAgICAgaWYocHkgPj0gY3kgKyAyICogc3kgLSBBQUJCX3N0ICYmICgoYm9vbCkgY3ViZTEub25Hcm91bmQpKXsKICAgICAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjdWJlMS5vbldhbGwgPSB0cnVlOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWFBPUzsKICAgICAgICB9CiAgICAgICAgIyAteQogICAgICAgIGlmKHB5IDw9IGN5ICsgMiAqIHN5ICYmIG9weSA+PSBvY3kgKyAyICogc3kgJiYgQUFCQl9zaWRlKGN4LCBzeCArIGNzeCwgcHgpID09IDAgJiYgQUFCQl9zaWRlKGN6LCBzeiArIGNzeiwgcHopID09IDApewogICAgICAgICAgICBjdWJlMS5vbkdyb3VuZCA9IHRydWU7CiAgICAgICAgICAgIGNvbHNpZGUgfD0gQUFCQl9ZTkVHOwogICAgICAgIH0KICAgICAgICAjICt5CiAgICAgICAgaWYocHkgKyAyICogY3N5ID49IGN5ICYmIG9weSArIDIgKiBjc3kgPD0gb2N5ICYmIEFBQkJfc2lkZShjeCwgc3ggKyBjc3gsIHB4KSA9PSAwICYmIEFBQkJfc2lkZShjeiwgc3ogKyBjc3osIHB6KSA9PSAwKXsKICAgICAgICAgICAgY29sc2lkZSB8PSBBQUJCX1lQT1M7CiAgICAgICAgfQogICAgICAgICMgLXoKICAgICAgICBpZihweiA8PSBjeiArIHN6ICsgY3N6ICYmIG9weiA+PSBvY3ogKyBzeiArIGNzeiAmJiBBQUJCX3NpZGUoY3gsIHN4ICsgY3N4LCBweCkgPT0gMCAmJiBBQUJCX3NpZGUoY3kgKyBzeSwgc3kgKyBjc3osIHB5ICsgY3N6KSA9PSAwKXsKICAgICAgICAgICAgaWYocHkgPj0gY3kgKyAyICogc3kgLSBBQUJCX3N0ICYmICgoYm9vbCkgY3ViZTEub25Hcm91bmQpKXsKICAgICAgICAgICAgICAgIGN1YmUxLm9uR3JvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjdWJlMS5vbldhbGwgPSB0cnVlOwogICAgICAgICAgICBjb2xzaWRlIHw9IEFBQkJfWk5FRzsKICAgICAgICB9CiAgICAgICAgIyAregogICAgICAgIGlmKHB6ID49IGN6IC0gc3ogLSBjc3ogJiYgb3B6IDw9IG9jeiAtIHN6IC0gY3N6ICYmIEFBQkJfc2lkZShjeCwgc3ggKyBjc3gsIHB4KSA9PSAwICYmIEFBQkJfc2lkZShjeSArIHN5LCBzeSArIGNzeSwgcHkgKyBjc3kpID09IDApewogICAgICAgICAgICBpZihweSA+PSBjeSArIDIgKiBzeSAtIEFBQkJfc3QgJiYgKChib29sKSBjdWJlMS5vbkdyb3VuZCkpewogICAgICAgICAgICAgICAgY3ViZTEub25Hcm91bmQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN1YmUxLm9uV2FsbCA9IHRydWU7CiAgICAgICAgICAgIGNvbHNpZGUgfD0gQUFCQl9aUE9TOwogICAgICAgIH0KICAgICAgICBpZiAoY29sc2lkZSA+IDApewogICAgICAgICAgICBjb2xvYmogPSB0Y3ViZTsKICAgICAgICAgICAgYWRkVG8gY29sbGlzaW9ucyB7Y29sc2lkZTpjb2xzaWRlLGNvbG9iajpjb2xvYmp9OwogICAgICAgIH0gCiAgICAgICAgdG90YWxjb2xzaWRlIHw9IGNvbHNpZGU7Cgl9CiAgICBpZiAobm90RW1wdHkgKG9iailjdWJlMS5vZ3BvcykgewogICAgICAgIGN1YmUxLm9ncG9zLnggPSAobnVtKSBjdWJlMS5wb3NpdGlvbi54ICsgMDsKICAgICAgICBjdWJlMS5vZ3Bvcy55ID0gKG51bSkgY3ViZTEucG9zaXRpb24ueSArIDA7CiAgICAgICAgY3ViZTEub2dwb3MueiA9IChudW0pIGN1YmUxLnBvc2l0aW9uLnogKyAwOwogICAgfSBlbHNlIHsKICAgICAgICBjdWJlMS5vZ3BvcyA9IAogICAgICAgIHsKICAgICAgICAgICAgeDoobnVtKWN1YmUxLnBvc2l0aW9uLnggKyAwLAogICAgICAgICAgICB5OihudW0pY3ViZTEucG9zaXRpb24ueSArIDAsCiAgICAgICAgICAgIHo6KG51bSljdWJlMS5wb3NpdGlvbi56ICsgMAogICAgICAgIH07CiAgICB9CiAgICAjIEdBTUUubG9nKGNvbGxpc2lvbnMpOwogICAgcmV0dXJuIGNvbGxpc2lvbnM7CgkKfQoKCm9ialtdIGFjdGlvbiBBQUJCX3Jlc29sdmVwbHIob2JqIHBscixib29sIGNyb3VjaCxvYmpbXSBjdWJlcyl7CiAgICBpZiAoY3JvdWNoKXsKICAgICAgICBwbHIuc2NhbGUgPSAKICAgICAgICB7CiAgICAgICAgICAgIHg6QUFCQl93LAogICAgICAgICAgICB5OkFBQkJfYywKICAgICAgICAgICAgejpBQUJCX3cKICAgICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgICBwbHIuc2NhbGU9CiAgICAgICAgewogICAgICAgICAgICB4OkFBQkJfdywKICAgICAgICAgICAgeTpBQUJCX0gsCiAgICAgICAgICAgIHo6QUFCQl93CiAgICAgICAgfTsKICAgIH0KICAgIHJldHVybiBBQUJCX3Jlc29sdmUocGxyLGN1YmVzKTsKfQoKYWN0aW9uIEFBQkJfb25QbGF5ZXJTcGF3bihzdHIgaWQpIHsKICAgIG9iaiBwbHIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwogICAgcGxyLnNjYWxlID0ge3g6QUFCQl93LHk6QUFCQl93LHo6QUFCQl9IfTsKfQoKCgpudW0gcl9kanVtcG5vZGVfQ09PTERPV04gPSAyMDAwOwpudW0gcl9kanVtcG5vZGVfVyA9IDAuMzsKc3RyIHJfZGp1bXBub2RlX0NPTE9SX0pVTVAgPSAiI0UyRkYwMCI7Cm51bSByX2RqdW1wbm9kZV9BQ1FVSVJFSlVNUFNPVU5EID0gNDk2ODM7Cm51bSByX2RqdW1wbm9kZV9ESlVNUFNPVU5EID0gMzI1NzY7CgpudW0gcl9kanVtcG5vZGVfZGphbHBoYSA9IDA7CgphY3Rpb24gcl9kanVtcG5vZGVfb25QbGF5ZXJTcGF3bihzdHIgaWQpIHsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoKICAgICMgbm9kZXMKICAgIHBsYXllci5ub2RlcyA9IEdBTUUuT0JKRUNUUy5nZXRQYXRoTm9kZXMoKTsKICAgIGZvciAobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgKG9ialtdKSBwbGF5ZXIubm9kZXM7IGkrKykgewogICAgICAgIG9ialtdIG5vZGVzID0gKG9ialtdKSBwbGF5ZXIubm9kZXM7CiAgICAgICAgb2JqIGlub2RlID0gbm9kZXNbaV07CiAgICAgICAgaW5vZGUudENvb2xkb3duID0gMDsKICAgICAgICBpbm9kZS5zY2FsZSA9IHt4OjUseTo1LHo6NX07CiAgICAgICAgaW5vZGUucG9zaXRpb24gPSB7eDppbm9kZS54LHk6aW5vZGUueSx6Omlub2RlLnp9OwogICAgfQogICAgIyBwbGF5ZXIganVtcAogICAgcGxheWVyLnRpbWVMYXN0Q3JvdWNoZWQgPSAwOwogICAgcGxheWVyLmp1bXBDb3VudCA9IDA7CiAgICBwbGF5ZXIuaGFzSnVtcGVkID0gZmFsc2U7CiAgICBwbGF5ZXIucmVnaXN0ZXJTeW5jVmFsdWVzKCJ0aW1lTGFzdENyb3VjaGVkIik7CiAgICBwbGF5ZXIucmVnaXN0ZXJTeW5jVmFsdWVzKCJ0aW1lTGFzdE9uR3JvdW5kIik7CiAgICBwbGF5ZXIucmVnaXN0ZXJTeW5jVmFsdWVzKCJqdW1wQ291bnQiKTsKICAgIHBsYXllci5yZWdpc3RlclN5bmNWYWx1ZXMoImhhc0p1bXBlZCIpOwogICAgcGxheWVyLnJlZ2lzdGVyU3luY1ZhbHVlcygibm9kZXMiKTsKCiAgICAKfQoKYWN0aW9uIHJfZGp1bXBub2RlX29uUGxheWVyVXBkYXRlKHN0ciBpZCwgbnVtIGRlbHRhLCBvYmogaW5wdXRzKSB7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKICAgIAogICAgIyBjcm91Y2gKICAgIGlmICgoYm9vbCkgcGxheWVyLmNyb3VjaCl7CiAgICAgICAgcGxheWVyLnNjYWxlID0gCiAgICAgICAgewogICAgICAgICAgICB4OkFBQkJfdywKICAgICAgICAgICAgeTpBQUJCX2MsCiAgICAgICAgICAgIHo6QUFCQl93CiAgICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgICAgcGxheWVyLnNjYWxlPQogICAgICAgIHsKICAgICAgICAgICAgeDpBQUJCX3csCiAgICAgICAgICAgIHk6QUFCQl9ILAogICAgICAgICAgICB6OkFBQkJfdwogICAgICAgIH07CiAgICB9CiAgICAjIGNvbGxpc2lvbnMgd2l0aCBub2RlcwogICAgb2JqW10gY29sbGlzaW9ucyA9IEFBQkJfZGV0ZWN0Q29sbGlzaW9ucyhwbGF5ZXIsKG9ialtdKXBsYXllci5ub2Rlcyk7CiAgICBpZiAobGVuZ3RoT2YgY29sbGlzaW9ucyA+IDApCiAgICB7CiAgICAgICAgZm9yIChudW0gaSA9IDA7IGkgPCBsZW5ndGhPZiBjb2xsaXNpb25zOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBvYmogY29sb2JqID0gY29sbGlzaW9uc1tpXTsKICAgICAgICAgICAgaWYgKChudW0pY29sb2JqLnRDb29sZG93biA9PSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIGFkZCBqdW1wCiAgICAgICAgICAgICAgICAobnVtKXBsYXllci5qdW1wQ291bnQrPTE7CiAgICAgICAgICAgICAgICAjIGluY3JlYXNlIHRDb29sZG93biB0byByZWZyZXNoIHJhdGUKICAgICAgICAgICAgICAgIGNvbG9iai50Q29vbGRvd24gPSByX2RqdW1wbm9kZV9DT09MRE9XTjsKICAgICAgICAgICAgICAgICMgYWNxdWlyZSBqdW1wIHNvdW5kCiAgICAgICAgICAgICAgICBpZiAoKG51bSkgREpjZmdfbm9kZXNfYy5BQ1FVSVJFSlVNUFNPVU5EID4gMCkgewogICAgICAgICAgICAgICAgICAgIEdBTUUuU09VTkQucGxheTJEKChudW0pIERKY2ZnX25vZGVzX2MuQUNRVUlSRUpVTVBTT1VORCA+IDAsIDEsIDEsIGZhbHNlKTsgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAjIGRlY3JlbWVudCBub2RlcyBjb29sZG93biBhbmQgY29sb3IKICAgIGZvciAobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgKG9ialtdKSBwbGF5ZXIubm9kZXM7IGkrKykgewogICAgICAgIG9iaiBpbm9kZSA9ICgob2JqW10pIHBsYXllci5ub2RlcylbaV07CiAgICAgICAgKG51bSlpbm9kZS50Q29vbGRvd24gLT0gZGVsdGE7CiAgICAgICAgaWYgKChudW0paW5vZGUudENvb2xkb3duIDwgMCkKICAgICAgICB7CiAgICAgICAgICAgIGlub2RlLnRDb29sZG93bj0wOyAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0KICAgIAogICAgIyBEb3VibGUtSnVtcCBzdHVmZgoKICAgICMgY3JvdWNoIHRpbWVzdGFtcAogICAgaWYgKChib29sKSBpbnB1dHMuY3JvdWNoKSAKICAgIHsKICAgICAgICBwbGF5ZXIudGltZUxhc3RDcm91Y2hlZCA9IDA7CiAgICB9IAogICAgZWxzZSAKICAgIHsKICAgICAgICAobnVtKSBwbGF5ZXIudGltZUxhc3RDcm91Y2hlZCArPSBkZWx0YTsKICAgIH0KICAgICMgcmVzZXQganVtcGNvdW50IG9uIGdyb3VuZAogICAgaWYoKGJvb2wpIHBsYXllci5vbkdyb3VuZCkgCiAgICB7CiAgICAgICAgcGxheWVyLmp1bXBDb3VudCA9IChudW0pIERKY2ZnX25vZGVzX2MuTUFYX0pVTVBDT1VOVC0xOwogICAgICAgIHBsYXllci50aW1lTGFzdE9uR3JvdW5kID0gMDsKICAgIH0gCiAgICBlbHNlCiAgICB7CiAgICAgICAgKG51bSkgcGxheWVyLnRpbWVMYXN0T25Hcm91bmQgKz0gZGVsdGE7CiAgICB9IAogICAgIyAgcmVzZXQganVtcENvdW50IGFmdGVyIHdhbGxqdW1wCiAgICAgaWYgKChib29sKSBESmNmZ19ub2Rlc19jLldBTExKVU1QX1JFRlJFU0hTICYmIChib29sKSBwbGF5ZXIub25XYWxsICYmIChib29sKSBpbnB1dHMuanVtcCkgCiAgICB7CiAgICAgICAgcGxheWVyLmp1bXBDb3VudCA9IChudW0pIERKY2ZnX25vZGVzX2MuTUFYX0pVTVBDT1VOVC0xOwogICAgfSAKICAgICMgaW5wdXQganVtcCBsb2dpYwogICAgaWYoKGJvb2wpIGlucHV0cy5qdW1wKSB7CiAgICAgICAgaWYoIShib29sKXBsYXllci5oYXNKdW1wZWQgICYmIChudW0pcGxheWVyLmp1bXBDb3VudCA+IDAgJiYgIShib29sKXBsYXllci5vbkdyb3VuZCAmJiAoKG51bSlwbGF5ZXIudGltZUxhc3RPbkdyb3VuZCA+IDE1MCkpIAogICAgICAgIHsKICAgICAgICAgICAgaWYgKCEoYm9vbCkgcGxheWVyLm9uV2FsbCAmJiAoYm9vbClESmNmZ19ub2Rlc19jLldBTExKVU1QX1JFRlJFU0hTKSAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKChib29sKSBESmNmZ19ub2Rlc19jLkVOQUJMRV9DUk9VQ0hKVU1QICYmICgobnVtKXBsYXllci50aW1lTGFzdENyb3VjaGVkIDwgKG51bSlESmNmZ19ub2Rlc19jLk1TX0RVUkFUSU9OX1VOQ1JPVUNIKSkgCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnZlbG9jaXR5LnkgPSBNYXRoLmxlcnAoKG51bSkgREpjZmdfbm9kZXNfYy5WRUxfQ1JPVUNISlVNUCwobnVtKSBESmNmZ19ub2Rlc19jLlZFTF9KVU1QLChudW0pcGxheWVyLnRpbWVMYXN0Q3JvdWNoZWQvKG51bSkgREpjZmdfbm9kZXNfYy5NU19EVVJBVElPTl9VTkNST1VDSCk7CSMgIm1vb25qdW1waW5nIiBjYWxjdWxhdGlvbgogICAgICAgICAgICAgICAgfSBlbHNlIAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHBsYXllci52ZWxvY2l0eS55ID0gKG51bSkgREpjZmdfbm9kZXNfYy5WRUxfSlVNUDsJCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoKG51bSkgREpjZmdfbm9kZXNfYy5ESlVNUFNPVU5EID4gMCkgCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgR0FNRS5TT1VORC5wbGF5MkQoKG51bSkgREpjZmdfbm9kZXNfYy5ESlVNUFNPVU5ELCAxLCAwLjUsIGZhbHNlKTsgIyBqdW1wIERKY2ZnX25vZGVzX2MuU09VTkQKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAobnVtKXBsYXllci5qdW1wQ291bnQtLTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBwbGF5ZXIuaGFzSnVtcGVkID0gdHJ1ZTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHBsYXllci5oYXNKdW1wZWQgPSBmYWxzZTsKICAgIH0KfQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIGF1dG8tZGV0ZWN0ZWQgcHVibGljIGFjdGlvbnMgZnJvbSBsaWJyYXJpZXMKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJTcGF3biAoc3RyIGlkKXsKICAgIEFBQkJfb25QbGF5ZXJTcGF3bihpZCk7CiAgICByX2RqdW1wbm9kZV9vblBsYXllclNwYXduKGlkKTsKfQoKcHVibGljIGFjdGlvbiBvblBsYXllclVwZGF0ZSAoc3RyIGlkLCBudW0gZGVsdGEsIG9iaiBpbnB1dHMpewogICAgcl9kanVtcG5vZGVfb25QbGF5ZXJVcGRhdGUoaWQsICBkZWx0YSwgIGlucHV0cyk7Cn0KCg=="}},"groups":{"278109a2-2abb-4281-a320-9d125b2f4cc5":{"ids":["07b4cf08-4fdd-48df-80f0-48f7ea42aa5d","0bdc0696-9ddf-40a5-8c61-fc95d0e83358"]},"eb6f84a2-bab7-45d2-bb8f-488ee4ae972e":{"ids":["bd5f80a1-94f1-4939-9867-2e54a02c0b3d","0b3383a0-dcc4-498b-b00f-eab3ee038ccf","31305163-e851-49eb-81eb-184989f621e7","d563f12a-60a3-4c84-968c-4ee5616a4250","f5126635-33e2-4583-be8b-d52988f0b0ee","ae4c40a0-49f8-4f25-a32c-69b426f0f282"]},"ca0e65de-a3ec-4e17-bc00-25f7464ed6c3":{"ids":["b39a8c9c-bab5-447f-87ed-0440b37b1ae5","619a6987-1bdd-4214-a832-44c75e599f7c"]},"3fdff732-98b6-433a-9d5c-2f6617911ed0":{"ids":["98abd40a-bade-468c-97f0-418dc84eb465","8c9811f1-b71e-4d3a-9b42-08d1e8f2d49f","d4683fb2-1b03-42c0-850c-c971d9d5c35d","d88a62bb-a698-4dff-8712-d867f84a1de4","59829941-85cd-4dcd-89d9-3768f381815c","63fcdb75-c35f-4395-be23-ca3fb6a659f1"]},"90042b8d-e4c6-41c6-a6a4-e2188c306f98":{"ids":["7e987989-b376-4ff7-bfb9-587e11a28c81","c255e671-e6ec-4d3d-b552-95368a9bddce","bc39152a-c7df-4b56-a40d-e2ae52c92092","269f0e50-5a75-48d5-83b5-1c44bc83964f"]}},"selected":"75cd1f84-bd5b-4cd1-ac6f-fee37e89888d","cam":{"p":[23.23176348157313,42.4770468155831,131.5901719152286],"r":[-0.22399999999999956,-0.7939999999999978]},"history":[]}